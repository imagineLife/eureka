!function(a,b){if("object"==typeof exports&&"object"==typeof module)module.exports=b(require("React"),require("ReactDOM"),require("Redux"),require("ReactRedux"));else if("function"==typeof define&&define.amd)define(["React","ReactDOM","Redux","ReactRedux"],b);else{var c="object"==typeof exports?b(require("React"),require("ReactDOM"),require("Redux"),require("ReactRedux")):b(a.React,a.ReactDOM,a.Redux,a.ReactRedux);for(var d in c)("object"==typeof exports?exports:a)[d]=c[d]}}(this,function(a,b,c,d){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(2),m=(d(l),c(3)),n=d(m),o=(c(5),c(6)),p=c(7),q=d(p),r=c(22),s=c(12),t=d(s),u=c(69),v=d(u),w=c(70),x=d(w),y=c(13),z=c(9);(0,r.addLocaleData)([].concat(function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(v.default)));var A=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c.getLanguage(a),g=d.toLowerCase().split(/[_-]+/)[0],h=Object.assign({},a,{});if(a.storagePrefix,!0){console.log("holy shit!",a);var i=Object.assign({},{currentDirectory:function(){try{return localStorage.getItem(a.storagePrefix+"currentDirectory")||void 0}catch(a){return}}(),mode:function(){try{return localStorage.getItem(a.storagePrefix+"mode")||void 0}catch(a){return}}(),sort:function(){try{return localStorage.getItem(a.storagePrefix+"sort")||void 0}catch(a){return}}(),treeHidden:function(){try{return JSON.parse(localStorage.getItem(a.storagePrefix+"treeHidden"))||void 0}catch(a){return}}()},a);console.log("config",i);var j=function(){try{return JSON.parse(localStorage.getItem(a.storagePrefix+"source"))||void 0}catch(a){return}}(),k=function(){try{return JSON.parse(localStorage.getItem(a.storagePrefix+"content"))||void 0}catch(a){return}}();j&&(void 0!==j.sources&&z.dispatch(y.fetchMediaSourcesSuccess(j.sources)),void 0!==j.currentSource&&z.dispatch(y.updateSource(j.currentSource.toString()))),k&&(console.log("updating localContent",k),z.dispatch(y.updateContent(k)))}z.dispatch(y.updateConfig(h)),console.log("config updated",h);var l=function(){try{return a.endpoints.i18n}catch(a){return n.default.join(z.getState().config.assetsBasePath,"./js/i18n/locales/")}}();return function(){if(console.log("shouldFetch",a.lang),t.default.serverSideRendering)return!1;try{return!(!a.lang||"en"==g||void 0!==c.state.i18n[a.lang]||void 0!==c.state.i18n[g])}catch(b){return"en"!==a.lang}}()&&fetch(""+l+g+".json").then(function(a){a.json().then(function(a){c.state,c.setState({i18n:a})})}),z.subscribe(function(){var a=z.getState();if(console.log(a),a.config.useLocalStorage)try{localStorage.setItem(a.config.storagePrefix+"currentDirectory",a.content.cd),localStorage.setItem(a.config.storagePrefix+"currentSource",a.source.currentSource),localStorage.setItem(a.config.storagePrefix+"source",JSON.stringify(a.source)),localStorage.setItem(a.config.storagePrefix+"mode",a.view.mode),localStorage.setItem(a.config.storagePrefix+"sort",a.view.sort),localStorage.setItem(a.config.storagePrefix+"treeHidden",!a.view.sourceTreeOpen),localStorage.setItem(a.config.storagePrefix+"content",JSON.stringify(a.content)),localStorage.setItem(a.config.storagePrefix+"tree",JSON.stringify(a.tree))}catch(a){}}),c}return g(b,a),i(b,[{key:"getLanguage",value:function(a){try{return a.lang?a.lang:document.documentElement.lang||navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage}catch(a){return"en-US"}}},{key:"componentWillMount",value:function(){this.EurekaController=(0,o.connect)(function(a,b){return{content:a.content,view:a.view,tree:a.tree,source:a.source,directory:a.directory,fetched:a.fetched,config:a.config}})((0,r.injectIntl)(q.default))}},{key:"render",value:function(){var a=this,c=this.props,d=(this.state,this.getLanguage(c)),e=d.toLowerCase().split(/[_-]+/)[0];console.log("languageWithoutRegionCode",e);var f=function(){return t.default.serverSideRendering?c.messages:"en"==e?x.default[e]||x.default[d]||x.default.en:function(){try{return a.state.i18n}catch(a){return x.default}}()||x.default}(),g=function(){try{return a.state.i18n?c.lang:b.defaultProps.lang}catch(a){return b.defaultProps.lang}}();return k.default.createElement(o.Provider,{store:z},k.default.createElement(r.IntlProvider,h({},c,{locale:d,messages:f}),k.default.createElement(this.EurekaController,h({},c,{lang:g}))))}}]),b}(j.Component);A.defaultProps={i18n:"assets/js/i18n/locales/",lang:"en-US"},b.default=A},function(b,c){b.exports=a},function(a,c){a.exports=b},function(a,b,c){(function(a){function c(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};b.resolve=function(){for(var b="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(b=g+"/"+b,e="/"===g.charAt(0))}return b=c(d(b.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+b||"."},b.normalize=function(a){var e=b.isAbsolute(a),f="/"===g(a,-1);return a=c(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},b.isAbsolute=function(a){return"/"===a.charAt(0)},b.join=function(){var a=Array.prototype.slice.call(arguments,0);return b.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},b.relative=function(a,c){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=b.resolve(a).substr(1),c=b.resolve(c).substr(1);for(var e=d(a.split("/")),f=d(c.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},b.sep="/",b.delimiter=":",b.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},b.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},b.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(b,c(4))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b){a.exports=c},function(a,b){a.exports=d},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(8),m=d(l),n=c(45),o=d(n),p=c(46),q=d(p),r=c(49),s=d(r),t=c(50),u=d(t),v=c(51),w=d(v),x=c(53),y=d(x),z=c(54),A=d(z),B=c(62),C=d(B),D=c(63),E=d(D),F=c(64),G=d(F),H=c(65),I=d(H),J=c(66),K=d(J),L=c(67),M=d(L),N=c(68),O=d(N),P=c(22),Q=c(9),R=d(Q),S=c(13),T=d(S),U=c(12),V=d(U),W=c(48),X=d(W),Y=c(3),Z=c(60),$=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={modalOpen:!1,currentModal:void 0,renamingItem:void 0},c.decoratedActions=a.decoratedActions?Object.assign({},T.default,a.decoratedActions):T.default,c}return g(b,a),i(b,[{key:"componentDidMount",value:function(){var a=this,b=(this.props,this.decoratedActions);R.default.dispatch(b.fetchMediaSources()).then(function(){R.default.dispatch(b.updateSourceTree(a.props.source.sources[0].id)).then(function(c){var d=a.props;R.default.dispatch(b.updateContent({cd:d.content.cd})),R.default.dispatch(b.fetchDirectoryContents(d.source.currentSource,{path:d.content.cd})),void 0!==d.view.intervals.fetchDirectoryContents&&d.view.intervals.fetchDirectoryContents>0&&setInterval(function(){var c=(R.default.getState(),a.props);R.default.dispatch(b.updateContent({cd:c.content.cd})),R.default.dispatch(b.fetchDirectoryContents(c.source.currentSource,{path:c.content.cd}))},d.view.intervals.fetchDirectoryContents),void 0!==d.view.intervals.updateSourceTree&&d.view.intervals.updateSourceTree>0&&setInterval(function(){R.default.dispatch(b.updateSourceTree(d.source.currentSource))},d.view.intervals.updateSourceTree)})}),document.body.addEventListener("keyup",function(b){var c=b.keyCode||b.charCode||0;switch(console.log(c),c){case 27:a.setState({modalOpen:!1,currentModal:void 0})}})}},{key:"onCreateDirectory",value:function(){console.log("onCreateDirectory"),this.setState({modalOpen:!0,currentModal:"create_directory"})}},{key:"onModalCancel",value:function(a){a.preventDefault(),console.log("onModalCancel"),this.setState({modalOpen:!1,currentModal:void 0})}},{key:"onModalSubmit",value:function(a){var b=this,c=this.decoratedActions,d=this.props;switch(event.preventDefault(),console.log("onModalSubmit",a),this.state.currentModal){case"create_directory":console.log(R.default.getState().content.cd,Y.join(R.default.getState().content.cd,"foo")),R.default.dispatch(c.createDirectory(R.default.getState().source.currentSource,Y.join(R.default.getState().content.cd,a))).then(function(){b.setState({modalOpen:!1,currentModal:void 0})}).then(function(){R.default.dispatch(c.fetchDirectoryContents(d.source.currentSource,{path:R.default.getState().content.cd}))});break;case"rename_item":console.log()}}},{key:"onRenameItemModalSubmit",value:function(a,b){var c=this;console.log("onRenameItemModalSubmit!!!",a,b),console.log(b.path);var d=this.decoratedActions;!function(){try{Y.parse(b.path).dir}catch(a){return console.log("oh crap",b.path),console.log(a),Z(b.path).dir}}();R.default.dispatch(d.renameItem(this.props.source.currentSource,b.path,a)).then(function(a){console.log("results!!!",a),R.default.dispatch(d.updateContent({contents:a.contents.filter(function(a){return a.filename})})),c.setState({renamingItem:void 0,modalOpen:!1,currentModal:void 0})})}},{key:"onRenameItem",value:function(a){console.log("onRenameItem",a),this.setState({renamingItem:a,modalOpen:!0,currentModal:"rename_item"})}},{key:"render",value:function(){var a=this,b=this.props,c=this.state,d=this.props.intl,e=d.formatMessage,f=(d.formatDate,e(X.default.directory)),g=e(X.default.rename,{item:c.renamingItem?" "+c.renamingItem.filename:""}),i=function(){if(c.modalOpen)switch(c.currentModal){case"create_directory":return k.default.createElement(K.default,h({onCancel:a.onModalCancel.bind(a),onSubmit:a.onModalSubmit.bind(a),title:f},b),k.default.createElement(M.default,b));case"rename_item":return k.default.createElement(K.default,h({onCancel:a.onModalCancel.bind(a),onSubmit:a.onRenameItemModalSubmit.bind(a),title:g},b),k.default.createElement(O.default,h({},b,{item:c.renamingItem})));default:return}}(),j=b.config.allowUploads?k.default.createElement(I.default,b):void 0,l=b.view.sourceTreeOpen&&!V.default.serverSideRendering?k.default.createElement("div",{id:"eureka__pathbrowser",className:"eureka__pathbrowser"},k.default.createElement(m.default,b),k.default.createElement(C.default,b),j,k.default.createElement(q.default,h({onCreateDirectory:this.onCreateDirectory.bind(this)},b))):void 0,n=b.view.sourceTreeOpen?void 0:k.default.createElement(o.default,b),p=!b.view.sourceTreeOpen&&b.config.allowUploads?k.default.createElement(E.default,b):void 0,r=b.view.focusedMediaItem?k.default.createElement(G.default,b):void 0,t=function(){try{if(b.config.callbacks.choose)return!0}catch(a){return!1}}(),v=V.default.serverSideRendering?void 0:k.default.createElement(s.default,b),x=V.default.serverSideRendering?void 0:k.default.createElement(y.default,b),z=t?k.default.createElement(u.default,h({ariaHidden:c.modalOpen},b)):void 0,B=b.view.enlargeFocusedRows?" eureka__enlarge-focused-rows":"",D=V.default.serverSideRendering?void 0:k.default.createElement(w.default,b),F=V.default.serverSideRendering?" eureka__server-side":"",H=k.default.createElement("div",{"aria-hidden":c.modalOpen,className:"eureka__browse-content"},l,k.default.createElement("div",{className:"eureka__stage"},k.default.createElement("div",{className:"eureka__stage__filter-view"},k.default.createElement("header",null,k.default.createElement("h2",null,k.default.createElement("span",{className:"visually-hidden"},k.default.createElement(P.FormattedMessage,{id:"media.browse",defaultMessage:"Browse"})," "),k.default.createElement(P.FormattedMessage,{id:"media.contents",defaultMessage:"Media Content"})),D),k.default.createElement("div",{className:"eureka__tree-toggle"},v,n,p,x)),k.default.createElement("div",{className:"eureka__table-wrapper"},k.default.createElement(A.default,h({},b,{onRenameItem:this.onRenameItem.bind(this),onSubmit:this.onRenameItemModalSubmit.bind(this)})))));return V.default.serverSideRendering?k.default.createElement("form",{lang:b.lang||void 0,method:"POST",action:b.config.basePath,encType:"multipart/form-data",className:"eureka eureka__view-mode__"+b.view.mode+B+F},H,r,z,i):k.default.createElement("div",{lang:b.lang||void 0,className:"eureka eureka__view-mode__"+b.view.mode+B+F},H,r,z,i)}}]),b}(j.Component);b.default=$},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(9),h=(d(g),c(13)),i=d(h),j=c(22),k=function(a){var b=a.decoratedActions?Object.assign({},i.default,a.decoratedActions):i.default;console.log("MediaSourceSelector",b);var c=a.source.sources.map(function(a,b){return f.default.createElement("option",{key:b,value:void 0===a.id?b:a.id},a.name)});return f.default.createElement("div",{className:"eureka__media-source-selector"},f.default.createElement("h2",null,f.default.createElement("label",{htmlFor:"media-source-selector__select"},f.default.createElement("span",{className:"visually-hidden"},f.default.createElement(j.FormattedMessage,{id:"choose",defaultMessage:"Choose"})," ",f.default.createElement(j.FormattedMessage,{id:"grammar.a",defaultMessage:"a"})," "),f.default.createElement(j.FormattedMessage,{id:"media.source",defaultMessage:"Media Source"}))),f.default.createElement("select",{value:a.source.currentSource,id:"media-source-selector__select",onChange:function(c){a.dispatch(b.updateSource(c.target.value)),a.dispatch(b.updateSourceTree(c.target.value))}},c))};b.default=k},function(a,b,c){"use strict";var d=c(5),e=d.createStore,f=d.applyMiddleware,g=c(10).default,h=c(11),i=e(h.EurekaReducer,f(g));a.exports=i},function(a,b){"use strict";function c(a){return function(b){var c=b.dispatch,d=b.getState;return function(b){return function(e){return"function"==typeof e?e(c,d,a):b(e)}}}}b.__esModule=!0;var d=c();d.withExtraArgument=c,b.default=d},function(a,b,c){"use strict";function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(12),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=c(13),i=c(5).combineReducers,j=(c(16),c(3)),k=c(21),l={basePath:"/",allowUploads:!0,treeHidden:function(){try{return"true"==localStorage.getItem("eureka__treeHidden")}catch(a){return!0}}(),useLocalStorage:!0,storagePrefix:"eureka__",allowRename:!0,allowDelete:!0,confirmBeforeDelete:!1,locales:"en-US",mediaSource:function(){try{return localStorage.getItem("eureka__mediaSource")}catch(a){return}}(),currentDirectory:void 0,uid:"0",iconSVG:"./img/icons."+k.version+".min.svg",assetsBasePath:"./assets/",emphasisFocusedMediaItem:!0,headers:{"Powered-By":"Eureka by Markup.tips"},intervals:{searchBarPlaceholder:!1,fetchDirectoryContents:18e3,updateSourceTree:!1},callbacks:{close:void 0,choose:void 0}},m=function(a,b){switch(a=a||l,b.type){case h.UPDATE_CONFIG:return Object.assign({},a,b.config)}return a},n=Object.assign({},{cd:function(){try{return localStorage.getItem("eureka__currentDirectory")||"/"}catch(a){return"/"}}(),contents:[]},function(){try{return JSON.parse(localStorage.getItem(l.storagePrefix+"content"))||{}}catch(a){return{}}}()),o=function(a,b){switch(a=a||n,b.type){case h.UPDATE_CONFIG:if(b.config.currentDirectory)return Object.assign({},a,{cd:b.config.currentDirectory});break;case h.UPDATE_CONTENT:return Object.assign({},a,b.content);case h.FETCH_DIRECTORY_CONTENTS_SUCCESS:case h.UPLOAD_FILES_SUCCESS:return Object.assign({},a,{contents:b.contents.filter(function(a){return a.filename})});case h.DELETE_MEDIA_ITEM_SUCCESS:return Object.assign({},a,{cd:a.cd===b.path?j.join(a.cd,".."):a.cd,contents:a.contents.filter(function(a){return a.path!==b.path})})}return a},p=function(){try{return JSON.parse(localStorage.getItem("eureka__tree"))}catch(a){return[]}}(),q="",r=function(a,b){a=a||p;var c=function(){switch(b.type){case h.UPDATE_SOURCE_TREE_SUCCESS:var c=a.slice(0),e=function(a){for(var b=0;b<c.length;b++)if(c[b].cd===a.cd)return!0;return!1},f=function(a){for(var b=0;b<i.length;b++)if(i[b].cd===a.cd)return!0;return!1},i=b.contents.map(function(a){return Object.assign({},a,{children:a.children?a.children:[]})});return i.map(function(a){e(a)||c.push(a)}),{v:c.filter(function(a){return f(a)})};case h.UPDATE_CONTENT:b.content.cd&&(q=b.content.cd);break;case h.FETCH_DIRECTORY_CONTENTS_SUCCESS:var j=b.contents.filter(function(a){return a.foldername}).map(function(a){return{name:a.foldername,cd:a.directory,children:[]}});return{v:function a(b){return b.map(function(b){return Object.assign({},b,{children:b.cd===q?g.default.removeDuplicates([].concat(d(b.children),d(j)),"name"):a(b.children)})})}(a)};case h.DELETE_MEDIA_ITEM_SUCCESS:var k=!0;return{v:function a(c){return c.map(function(c){return c.cd===b.path?void(k=!1):Object.assign({},c,{children:c.children&&k?a(c.children):c.children})}).filter(Boolean)}(a)}}}();return"object"===(void 0===c?"undefined":e(c))?c.v:a},s={focusedMediaItem:void 0,filter:void 0,mode:function(){try{return localStorage.getItem(l.storagePrefix+"mode")||"table"}catch(a){return"table"}}(),sourceTreeOpen:function(){try{return"false"==localStorage.getItem(l.storagePrefix+"treeHidden")||!1}catch(a){return!1}}(),enlargeFocusedRows:!1,locale:"en-US",sort:function(){try{return localStorage.getItem(l.storagePrefix+"sort")||"name"}catch(a){return"name"}}(),isTableScrolling:!1,intervals:{searchBarPlaceholder:!1,fetchDirectoryContents:!1,updateSourceTree:!1}};console.log("initialViewState",s);var t=function(a,b){switch(a=a||s,b.type){case h.UPDATE_VIEW:return Object.assign({},a,b.view);case h.UPDATE_CONFIG:var c={};return c=Object.assign({},c,{sourceTreeOpen:void 0!==b.config.treeHidden?!b.config.treeHidden:a.sourceTreeOpen||!1}),b.config.intervals&&(c=Object.assign({},c,{intervals:b.config.intervals})),b.config.mode&&(c=Object.assign({},c,{mode:b.config.mode})),b.config.sort&&(c=Object.assign({},c,{sort:b.config.sort})),b.config.locale&&(c=Object.assign({},c,{locale:b.config.locale})),void 0!==b.config.enlargeFocusedRows&&(c=Object.assign({},c,{enlargeFocusedRows:b.config.enlargeFocusedRows})),Object.assign({},a,c);case h.UPDATE_SOURCE_TREE_SUCCESS:return Object.assign({},a,{cd:"/"});case h.DELETE_MEDIA_ITEM_SUCCESS:try{if(a.focusedMediaItem.path===b.path)return Object.assign({},a,{focusedMediaItem:void 0})}catch(a){}}return a},u={currentSource:function(){try{return localStorage.getItem("eureka__currentSource")||"0"}catch(a){return"0"}}(),sources:[]};console.log(l.storagePrefix+"source",u);var v=function(a,b){switch(a=a||u,b.type){case h.FETCH_MEDIA_SOURCES_SUCCESS:return console.log(h.FETCH_MEDIA_SOURCES_SUCCESS),Object.assign({},a,{sources:b.sources});case h.UPDATE_SOURCE:return console.log(h.UPDATE_SOURCE,b.source),Object.assign({},a,{currentSource:b.source})}return a},w=[{name:"Filesystem",id:"fileystem",directories:[]}],x=void 0,y=function(a,b){a=a||w;var c=[],f=function(){switch(b.type){case h.UPDATE_SOURCE:x=b.source;break;case h.FETCH_MEDIA_SOURCES_SUCCESS:return void 0===x&&(x=b.sources[0].id),{v:b.sources.map(function(a){return Object.assign({},a,{directories:[]})})};case h.UPDATE_SOURCE_TREE_SUCCESS:c=b.contents.map(function(a){return Object.assign({},a,{children:a.children?a.children:[]})});var e=function a(b){try{b.children.map(function(b){c.push({name:b.name,cd:b.cd,children:b.children||[]}),b.children.length&&a(b)})}catch(a){}};return b.contents.map(function(a){e(a)}),c=g.default.removeDuplicates([].concat(d(c)),"cd"),{v:a.map(function(a){return Object.assign({},a,{directories:a.id==x?g.default.removeDuplicates([].concat(d(a.directories),d(c)),"cd"):a.directories})})};case h.FETCH_DIRECTORY_CONTENTS_SUCCESS:return c=b.contents.filter(function(a){return a.foldername}).map(function(a){return{name:a.foldername,cd:a.directory}}),{v:a.map(function(a){return Object.assign({},a,{directories:a.id==x?g.default.removeDuplicates([].concat(d(a.directories),d(c)),"name"):a.directories})})};case h.UPDATE_SOURCE:}}();return"object"===(void 0===f?"undefined":e(f))?f.v:a},z={lastDirectoriesFetched:[]},A=function(a,b){switch(a=a||z,b.type){case h.FETCH_DIRECTORY_CONTENTS_SUCCESS:var c=b.contents.filter(function(a){return a.foldername}).map(function(a){return a.foldername});return Object.assign({},a,{lastDirectoriesFetched:c})}return a},B=i({content:o,view:t,tree:r,source:v,directory:y,fetched:A,config:m});b.EurekaReducer=B},function(a,b,c){"use strict";function d(a){return Array.isArray(a)?a:Array.from(a)}function e(a,b){console.log("makeURL",a,b);try{var c=new URL(a,window.location.origin);return Object.keys(b).forEach(function(a){return c.searchParams.append(a,b[a])}),c}catch(e){var c,d=function(){console.log(e),c=a.indexOf("?")>-1?a.substr(0,a.indexOf("?"))+"?":a+"?";var d=[];return Object.keys(b).forEach(function(a){return d.push(a+"="+b[a])}),c+=d.join("&"),{v:c}}();if("object"===(void 0===d?"undefined":l(d)))return d.v}}function f(a,b){return a.filter(function(a,c,d){return d.map(function(a){return a[b]}).indexOf(a[b])===c})}function g(a){return a="string"==typeof a?a:"",a.replace(/[^a-z0-9]/g,function(a){var b=a.charCodeAt(0);return 32==b?"-":b>=65&&b<=90?a.toLowerCase():"__"+("000"+b.toString(16)).slice(-4)})}function h(a){var b,c,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,e=[];for(b=0,c=a.length;b<c;b+=d)e.push(a.substr(b,d));return e.map(function(a){return[a,n.default.createElement("wbr",null)]})}function i(a){switch(a){case".jpg":case".jpeg":case".gif":case".png":case".png8":case".png24":case".svg":case".bmp":case".tiff":return"file-image-o";case".pdf":return"file-pdf-o";case".zip":case".tar":return"file-archive-o";case".ppt":case".pot":case".pps":return"file-powerpoint-o";case".doc":case".dot":case".wbk":case".docx":case".docm":case".dotx":case".dotm":case".docb":return"file-word-o";case".xls":case".xlt":case".xlm":case".xlsx":case".xlsm":case".xltx":case".xltm":case".xlsb":case".xla":case".xlam":case".xll":case".xlw":return"file-excel-o";case".txt":case".rtf":return"file-text-o";case".js":case".json":case".html":case".htm":case".css":case".scss":return"file-code-o";case".mp3":case".wav":case".ogg":case".flac":return"file-audio-o";case".webm":case".wbm":case".mp4":case".mov":return"file-video-o";default:return"file-image-o"}}function j(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"||",c=a.split(b),e=d(c);return[e[0],e.slice(1).join("||")]}function k(a,b,c){if(b[a.sort.by]===c[a.sort.by])return 0;var d=void 0;switch(a.sort.by){case"dimensions":d=b.dimensions[0]*b.dimensions[1]>c.dimensions[0]*c.dimensions[1]?1:-1;break;case"editedOn":d=new Date(b.editedOn).getTime()>new Date(c.editedOn).getTime()?1:-1;break;default:d=b[a.sort.by]>c[a.sort.by]?1:-1}return a.sort.dir===o?d:0-d}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=c(1),n=function(a){return a&&a.__esModule?a:{default:a}}(m),o="ascending";b.contentSort=k,b.serverSideRendering=function(){try{return!(void 0!==document)}catch(a){return!0}}(),b.parseMediaSourceOutOfCombinedPath=j,b.getIconByExtension=i,b.makeURL=e,b.removeDuplicates=f,b.ASCENDING=o,b.DESCENDING="descending",b.cssSafe=g,b.wordBreaksEvery=h},function(a,b,c){"use strict";var d=c(12),e=function(a){return a&&a.__esModule?a:{default:a}}(d);c(14);var f=function(a){return{type:"add_item_success",item:a}},g=function(a){return{type:"add_item_error",task:a}},h=function(a){return{type:"update_view",view:a}},i=function(a){return console.log("updating source",a),{type:"update_source",source:a}},j=function(a){return{type:"update_content",content:a}},k=function(a){return console.log("updateConfig",a),{type:"update_config",config:a}},l=function(a){return function(b){return fetch("/core/components/eureka/media/sources/"+a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(a){return b(m(a))}).catch(function(a){return b(n(a))})}},m=function(a){return{type:"update_source_tree_success",contents:a}},n=function(a){return{type:"update_source_tree_error",error:a}},o=function(a,b){return function(c){return fetch(e.default.makeURL("/core/components/eureka/media/sources/"+a,b),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(a){return c(p(a))}).catch(function(a){return c(q(a))})}},p=function(a){return{type:"fetch_directory_contents_success",contents:a}};b.fetchDirectoryContentsSuccess=p;var q=function(a){return{type:"fetch_directory_contents_error",error:a}};b.fetchDirectoryContentsError=q;var r=function(){return function(a){return fetch("/core/components/eureka/media/sources",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(b){return a(s(b))}).catch(function(b){return a(t(b))})}},s=function(a){return console.log("fetchMediaSourcesSuccess",a),{type:"fetch_media_sources_success",sources:a}},t=function(a){return{type:"fetch_media_sources_error",error:a}},u=function(a,b){return{type:"delete_media_item_success",source:a,path:b}};b.DELETE_MEDIA_ITEM_SUCCESS="delete_media_item_success",b.deleteMediaItemSuccess=u,b.UPDATE_CONFIG="update_config",b.updateConfig=k;var v=function(a){return{type:"delete_media_item_error",error:a}},w=function(a,b){return function(c){return fetch(e.default.makeURL("/core/components/eureka/media/sources/"+a,{path:b}),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(a){if(a===!1)throw new Error("Unable to delete directory "+b);return a}).then(function(d){return c(u(a,b))}).catch(function(a){return c(v(a))})}},x=function(a){return{type:"upload_files_success",contents:a}};b.UPLOAD_FILES_SUCCESS="upload_files_success",b.uploadFilesSuccess=x;var y=function(a){return{type:"upload_files_error",error:a}};b.UPLOAD_FILES_ERROR="upload_files_error",b.uploadFilesError=y;var z=function(a,b,c){return function(d){return fetch(e.default.makeURL("/core/components/eureka/media/sources/"+a,{path:b}),{method:"POST",body:c,headers:{}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(a){return d(x(a))}).catch(function(a){return d(y(a))})}},A=function(a,b){return function(c){return fetch(e.default.makeURL("/core/components/eureka/media/sources/"+a,{path:b}),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a
}).then(function(a){return a.json()}).then(function(c){if(!c){var d=new Error("unable to create "+b+" for media source "+a);throw d.response=!1,d}}).then(function(a){return c(B(a))}).catch(function(a){return c(C(a))})}},B=function(a){return{type:"create_directory_success",success:a}};b.CREATE_DIRECTORY_SUCCESS="create_directory_success",b.createDirectorySuccess=B;var C=function(a){return{type:"create_directory_error",error:a}};b.CREATE_DIRECTORY_ERROR="create_directory_error",b.createDirectoryError=C,b.createDirectory=A,b.uploadFiles=z,b.ADD_ITEM_SUCCESS="add_item_success",b.addItemSuccess=f,b.ADD_ITEM_ERROR="add_item_error",b.addItemError=g,b.UPDATE_VIEW="update_view",b.updateView=h,b.UPDATE_SOURCE="update_source",b.updateSource=i,b.updateSourceTree=l,b.UPDATE_SOURCE_TREE_SUCCESS="update_source_tree_success",b.updateSourceTreeSuccess=m,b.UPDATE_SOURCE_TREE_ERROR="update_source_tree_error",b.updateSourceTreeError=n,b.UPDATE_CONTENT="update_content",b.updateContent=j,b.FETCH_DIRECTORY_CONTENTS_SUCCESS="fetch_directory_contents_success",b.FETCH_DIRECTORY_CONTENTS_ERROR="fetch_directory_contents_error",b.fetchDirectoryContents=o,b.fetchMediaSources=r,b.FETCH_MEDIA_SOURCES_SUCCESS="fetch_media_sources_success",b.fetchMediaSourcesSuccess=s,b.FETCH_MEDIA_SOURCES_ERROR="fetch_media_sources_error",b.fetchMediaSourcesError=t,b.DELETE_MEDIA_ITEM_ERROR="delete_media_item_error",b.deleteMediaItemError=v,b.deleteMediaItem=w;var D=function(a,b,c){return function(d){return fetch(e.default.makeURL("/core/components/eureka/media/sources/"+a,{path:b,name:c}),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(c){if(!c){var d=new Error("unable to create "+b+" for media source "+a);throw d.response=!1,d}}).then(function(a){return d(E(a))}).catch(function(a){return d(F(a))})}},E=function(a){return{type:"rename_directory_success",success:a}},F=function(a){return{type:"rename_directory_error",error:a}};b.RENAME_DIRECTORY_SUCCESS="rename_directory_success",b.renameDirectorySuccess=E,b.RENAME_DIRECTORY_ERROR="rename_directory_error",b.renameDirectoryError=F,b.renameDirectory=D;var G=function(a,b,c){return function(d){return fetch(e.default.makeURL("/core/components/eureka/media/sources/"+a,{path:b,name:c}),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(c){if(!c){var d=new Error("unable to create "+b+" for media source "+a);throw d.response=!1,d}return c}).then(function(a){return d(H(a))}).catch(function(a){return d(I(a))})}},H=function(a){return{type:"rename_item_success",contents:a}},I=function(a){return{type:"rename_item_error",error:a}};b.RENAME_ITEM_SUCCESS="rename_item_success",b.renameItemSuccess=H,b.RENAME_ITEM_ERROR="rename_item_error",b.renameItemError=I,b.renameItem=G},function(a,b,c){c(15),a.exports=self.fetch.bind(self)},function(a,b){!function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return r.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){var b=new FileReader,c=g(b);return b.readAsText(a),c}function j(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}function k(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a)if("string"==typeof a)this._bodyText=a;else if(r.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(r.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(r.arrayBuffer&&r.blob&&t(a))this._bodyArrayBuffer=k(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a)&&!u(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=k(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(o)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(a){var b=a.toUpperCase();return v.indexOf(b)>-1?b:a}function n(a,b){b=b||{};var c=b.body;if(a instanceof n){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,c||null==a._bodyInit||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=m(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function o(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function p(a){var b=new e;return a.split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b}function q(a,b){b||(b={}),this.type="default",this.status="status"in b?b.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var r={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(a){return a&&DataView.prototype.isPrototypeOf(a)},u=ArrayBuffer.isView||function(a){return a&&s.indexOf(Object.prototype.toString.call(a))>-1};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype.delete=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},r.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];n.prototype.clone=function(){return new n(this,{body:this._bodyInit})},l.call(n.prototype),l.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},q.error=function(){var a=new q(null,{status:0,statusText:""});return a.type="error",a};var w=[301,302,303,307,308];q.redirect=function(a,b){if(w.indexOf(b)===-1)throw new RangeError("Invalid status code");return new q(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=n,a.Response=q,a.fetch=function(a,b){return new Promise(function(c,d){var e=new n(a,b),f=new XMLHttpRequest;f.onload=function(){var a={status:f.status,statusText:f.statusText,headers:p(f.getAllResponseHeaders()||"")};a.url="responseURL"in f?f.responseURL:a.headers.get("X-Request-URL");var b="response"in f?f.response:f.responseText;c(new q(b,a))},f.onerror=function(){d(new TypeError("Network request failed"))},f.ontimeout=function(){d(new TypeError("Network request failed"))},f.open(e.method,e.url,!0),"include"===e.credentials&&(f.withCredentials=!0),"responseType"in f&&r.blob&&(f.responseType="blob"),e.headers.forEach(function(a,b){f.setRequestHeader(b,a)}),f.send(void 0===e._bodyInit?null:e._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(a,b,c){a.exports=c(17)},function(a,b,c){(function(b){"use strict";function d(a){return Array.isArray(a)?a.concat():a&&"object"==typeof a?h(new a.constructor,a):a}function e(a,c,d){Array.isArray(a)||("production"!==b.env.NODE_ENV?i(!1,"update(): expected target of %s to be an array; got %s.",d,a):g("1",d,a));var e=c[d];Array.isArray(e)||("production"!==b.env.NODE_ENV?i(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",d,e):g("2",d,e))}function f(a,c){if("object"!=typeof c&&("production"!==b.env.NODE_ENV?i(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",q.join(", "),n):g("3",q.join(", "),n)),j.call(c,n))return 1!==Object.keys(c).length&&("production"!==b.env.NODE_ENV?i(!1,"Cannot have more than one key in an object with %s",n):g("4",n)),c[n];var s=d(a);if(j.call(c,o)){var t=c[o];t&&"object"==typeof t||("production"!==b.env.NODE_ENV?i(!1,"update(): %s expects a spec of type 'object'; got %s",o,t):g("5",o,t)),s&&"object"==typeof s||("production"!==b.env.NODE_ENV?i(!1,"update(): %s expects a target of type 'object'; got %s",o,s):g("6",o,s)),h(s,c[o])}j.call(c,k)&&(e(a,c,k),c[k].forEach(function(a){s.push(a)})),j.call(c,l)&&(e(a,c,l),c[l].forEach(function(a){s.unshift(a)})),j.call(c,m)&&(Array.isArray(a)||("production"!==b.env.NODE_ENV?i(!1,"Expected %s target to be an array; got %s",m,a):g("7",m,a)),Array.isArray(c[m])||("production"!==b.env.NODE_ENV?i(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,c[m]):g("8",m,c[m])),c[m].forEach(function(a){Array.isArray(a)||("production"!==b.env.NODE_ENV?i(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,c[m]):g("8",m,c[m])),s.splice.apply(s,a)})),j.call(c,p)&&("function"!=typeof c[p]&&("production"!==b.env.NODE_ENV?i(!1,"update(): expected spec of %s to be a function; got %s.",p,c[p]):g("9",p,c[p])),s=c[p](s));for(var u in c)r.hasOwnProperty(u)&&r[u]||(s[u]=f(a[u],c[u]));return s}var g=c(18),h=c(19),i=c(20),j={}.hasOwnProperty,k="$push",l="$unshift",m="$splice",n="$set",o="$merge",p="$apply",q=[k,l,m,n,o,p],r={};q.forEach(function(a){r[a]=!0}),a.exports=f}).call(b,c(4))},function(a,b){"use strict";function c(a){for(var b=arguments.length-1,c="Minified React error #"+a+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);c+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var e=new Error(c);throw e.name="Invariant Violation",e.framesToPop=1,e}a.exports=c},function(a,b){"use strict";function c(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}var d=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;a.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var g,h,i=c(a),j=1;j<arguments.length;j++){g=Object(arguments[j]);for(var k in g)e.call(g,k)&&(i[k]=g[k]);if(d){h=d(g);for(var l=0;l<h.length;l++)f.call(g,h[l])&&(i[h[l]]=g[h[l]])}}return i}},function(a,b,c){(function(b){"use strict";function c(a,b,c,e,f,g,h,i){if(d(b),!a){var j;if(void 0===b)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[c,e,f,g,h,i],l=0;j=new Error(b.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}}var d=function(a){};"production"!==b.env.NODE_ENV&&(d=function(a){if(void 0===a)throw new Error("invariant requires an error message argument")}),a.exports=c}).call(b,c(4))},function(a,b){a.exports={name:"eureka-browser",description:"Eureka is a progressively enhanced Media Browser Component.",version:"0.0.29",license:"BSD-3-Clause",author:{name:"JP de Vries",email:"mail@devries.jp",url:"https://devries.jp/"},proxy:"http://localhost:3001/",main:"dist/main.js",config:{port:"3000"},keywords:["react","redux","media","browse","eureka","MODX","a11y","data","table"],homepage:"https://eureka.markup.tips",bugs:{url:"https://github.com/jpdevries/eureka/issues",email:"eureka@devries.jp"},repository:{type:"git",url:"https://github.com/jpdevries/eureka.git"},files:["bower.json","yarn.lock","build/assets/css/eureka.*","build/assets/img/","build/assets/js/","build/static/","dist/","i18n/","src/"],devDependencies:{autoprefixer:"^6.7.3",concurrently:"^3.3.0",cssnano:"^3.10.0","grunt-bower-task":"^0.4.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-cssmin":"^2.0.0","grunt-contrib-uglify":"^2.2.0","grunt-contrib-watch":"^1.0.0","grunt-growl":"^0.1.5","grunt-modernizr":"^1.0.2","grunt-postcss":"^0.8.0","grunt-sass":"^2.0.0","grunt-string-replace":"^1.3.1","grunt-svgmin":"^4.0.0","grunt-svgo":"^0.1.0","grunt-svgstore":"^1.0.0","grunt-webpack":"^2.0.1","json-loader":"^0.5.4","lazyload-script":"^0.0.5","react-scripts":"0.9.0","react-test-renderer":"^15.4.2"},dependencies:{"babel-plugin-react-intl":"^2.3.1","babel-preset-es2015":"^6.24.0","babel-preset-react":"^6.23.0","babel-preset-stage-0":"^6.22.0",classnames:"^2.2.5","css-safe":"^0.1.0",filesize:"^3.5.4","html-entities":"^1.2.0","isomorphic-fetch":"^2.2.1","path-parse":"^1.0.5",pixrem:"^3.0.2",react:"^15.4.2","react-addons-update":"^15.4.2","react-dom":"^15.4.2","react-dropzone":"^3.10.0","react-intl":"^2.2.3","react-redux":"^5.0.2",redux:"^3.6.0","redux-thunk":"^2.2.0"},scripts:{start:"react-scripts start",build:"yarn i18n && react-scripts build",test:"react-scripts test --env=jsdom",eject:"react-scripts eject",babel:"babel ./src -d ./dist",i18n:"cd ./i18n && node build.js && cd ../",pretag:"rm -rf public/assets/css && grunt clean:buildjs && grunt build && grunt copy && grunt postcss && grunt bump && yarn build && grunt copy"}}},function(a,b,c){(function(a){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a.default:a}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Array.isArray(a)?a:[a]).forEach(function(a){a&&a.locale&&(E.__addLocaleData(a),F.__addLocaleData(a))})}function f(a){for(var b=(a||"").split("-");b.length>0;){if(g(b.join("-")))return!0;b.pop()}return!1}function g(a){var b=a&&a.toLowerCase();return!(!E.__localeData__[b]||!F.__localeData__[b])}function h(a){return(""+a).replace(oa,function(a){return na[a]})}function i(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b.reduce(function(b,d){return a.hasOwnProperty(d)?b[d]=a[d]:c.hasOwnProperty(d)&&(b[d]=c[d]),b},{})}function j(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.intl;I(b,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function k(a,b){if(a===b)return!0;if("object"!==(void 0===a?"undefined":L(a))||null===a||"object"!==(void 0===b?"undefined":L(b))||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var e=Object.prototype.hasOwnProperty.bind(b),f=0;f<c.length;f++)if(!e(c[f])||a[c[f]]!==b[c[f]])return!1;return!0}function l(a,b,c){var d=a.props,e=a.state,f=a.context,g=void 0===f?{}:f,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},j=g.intl,l=void 0===j?{}:j,m=h.intl,n=void 0===m?{}:m;return!k(b,d)||!k(c,e)||!(n===l||k(i(n,ma),i(l,ma)))}function m(a){return a.displayName||a.name||"Component"}function n(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.intlPropName,d=void 0===c?"intl":c,e=b.withRef,f=void 0!==e&&e,g=function(b){function c(a,b){M(this,c);var d=S(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b));return j(b),d}return Q(c,b),N(c,[{key:"getWrappedInstance",value:function(){return I(f,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this.refs.wrappedInstance}},{key:"render",value:function(){return H.createElement(a,P({},this.props,O({},d,this.context.intl),{ref:f?"wrappedInstance":null}))}}]),c}(G.Component);return g.displayName="InjectIntl("+m(a)+")",g.contextTypes={intl:ga},g.WrappedComponent=a,g}function o(a){return a}function p(a){return E.prototype._resolveLocale(a)}function q(a){return E.prototype._findPluralRuleFunction(a)}function r(a){var b=F.thresholds;b.second=a.second,b.minute=a.minute,b.hour=a.hour,b.day=a.day,b.month=a.month}function s(b,c,d){var e=b&&b[c]&&b[c][d];if(e)return e;"production"!==a.env.NODE_ENV&&console.error("[React Intl] No "+c+" format named: "+d)}function t(b,c,d){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=b.locale,g=b.formats,h=e.format,j=new Date(d),k=h&&s(g,"date",h),l=i(e,qa,k);try{return c.getDateTimeFormat(f,l).format(j)}catch(b){"production"!==a.env.NODE_ENV&&console.error("[React Intl] Error formatting date.\n"+b)}return String(j)}function u(b,c,d){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=b.locale,g=b.formats,h=e.format,j=new Date(d),k=h&&s(g,"time",h),l=i(e,qa,k);l.hour||l.minute||l.second||(l=P({},l,{hour:"numeric",minute:"numeric"}));try{return c.getDateTimeFormat(f,l).format(j)}catch(b){"production"!==a.env.NODE_ENV&&console.error("[React Intl] Error formatting time.\n"+b)}return String(j)}function v(b,c,d){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=b.locale,g=b.formats,h=e.format,j=new Date(d),k=new Date(e.now),l=h&&s(g,"relative",h),m=i(e,sa,l),n=P({},F.thresholds);r(ua);try{return c.getRelativeFormat(f,m).format(j,{now:isFinite(k)?k:c.now()})}catch(b){"production"!==a.env.NODE_ENV&&console.error("[React Intl] Error formatting relative time.\n"+b)}finally{r(n)}return String(j)}function w(b,c,d){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=b.locale,g=b.formats,h=e.format,j=h&&s(g,"number",h),k=i(e,ra,j);try{return c.getNumberFormat(f,k).format(d)}catch(b){"production"!==a.env.NODE_ENV&&console.error("[React Intl] Error formatting number.\n"+b)}return String(d)}function x(b,c,d){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=b.locale,g=i(e,ta);try{return c.getPluralFormat(f,g).format(d)}catch(b){"production"!==a.env.NODE_ENV&&console.error("[React Intl] Error formatting plural.\n"+b)}return"other"}function y(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=b.locale,g=b.formats,h=b.messages,i=b.defaultLocale,j=b.defaultFormats,k=d.id,l=d.defaultMessage;I(k,"[React Intl] An `id` must be provided to format a message.");var m=h&&h[k];if(!(Object.keys(e).length>0)&&"production"===a.env.NODE_ENV)return m||l||k;var n=void 0;if(m)try{n=c.getMessageFormat(m,f,g).format(e)}catch(b){"production"!==a.env.NODE_ENV&&console.error('[React Intl] Error formatting message: "'+k+'" for locale: "'+f+'"'+(l?", using default message as fallback.":"")+"\n"+b)}else"production"!==a.env.NODE_ENV&&(!l||f&&f.toLowerCase()!==i.toLowerCase())&&console.error('[React Intl] Missing message: "'+k+'" for locale: "'+f+'"'+(l?", using default message as fallback.":""));if(!n&&l)try{n=c.getMessageFormat(l,i,j).format(e)}catch(b){"production"!==a.env.NODE_ENV&&console.error('[React Intl] Error formatting the default message for: "'+k+'"\n'+b)}return n||"production"!==a.env.NODE_ENV&&console.error('[React Intl] Cannot format message: "'+k+'", using message '+(m||l?"source":"id")+" as fallback."),n||m||l||k}function z(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return y(a,b,c,Object.keys(d).reduce(function(a,b){var c=d[b];return a[b]="string"==typeof c?h(c):c,a},{}))}function A(a){var b=Math.abs(a);return b<Da?"second":b<Ea?"minute":b<Fa?"hour":"day"}function B(a){switch(a){case"second":return Ca;case"minute":return Da;case"hour":return Ea;case"day":return Fa;default:return Ga}}function C(a,b){if(a===b)return!0;var c=new Date(a).getTime(),d=new Date(b).getTime();return isFinite(c)&&isFinite(d)&&c===d}Object.defineProperty(b,"__esModule",{value:!0});var D=d(c(23)),E=d(c(24)),F=d(c(34)),G=c(1),H=d(G),I=d(c(41)),J=d(c(42)),K={locale:"en",pluralRuleFunction:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},M=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},N=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),O=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},P=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Q=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},R=function(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c},S=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},T=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},U=G.PropTypes.bool,V=G.PropTypes.number,W=G.PropTypes.string,X=G.PropTypes.func,Y=G.PropTypes.object,Z=G.PropTypes.oneOf,$=G.PropTypes.shape,_=G.PropTypes.any,aa=Z(["best fit","lookup"]),ba=Z(["narrow","short","long"]),ca=Z(["numeric","2-digit"]),da=X.isRequired,ea={locale:W,formats:Y,messages:Y,textComponent:_,defaultLocale:W,defaultFormats:Y},fa={formatDate:da,formatTime:da,formatRelative:da,formatNumber:da,formatPlural:da,formatMessage:da,formatHTMLMessage:da},ga=$(P({},ea,fa,{formatters:Y,now:da})),ha={id:W.isRequired,description:W,defaultMessage:W},ia={localeMatcher:aa,formatMatcher:Z(["basic","best fit"]),timeZone:W,hour12:U,weekday:ba,era:ba,year:ca,month:Z(["numeric","2-digit","narrow","short","long"]),day:ca,hour:ca,minute:ca,second:ca,timeZoneName:Z(["short","long"])},ja={localeMatcher:aa,style:Z(["decimal","currency","percent"]),currency:W,currencyDisplay:Z(["symbol","code","name"]),useGrouping:U,minimumIntegerDigits:V,minimumFractionDigits:V,maximumFractionDigits:V,minimumSignificantDigits:V,maximumSignificantDigits:V},ka={style:Z(["best fit","numeric"]),units:Z(["second","minute","hour","day","month","year"])},la={style:Z(["cardinal","ordinal"])},ma=Object.keys(ea),na={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},oa=/[&><"']/g,pa=function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,a);var d="ordinal"===c.style,e=q(p(b));this.format=function(a){return e(a,d)}},qa=Object.keys(ia),ra=Object.keys(ja),sa=Object.keys(ka),ta=Object.keys(la),ua={second:60,minute:60,hour:24,day:30,month:12},va=Object.freeze({formatDate:t,formatTime:u,formatRelative:v,formatNumber:w,formatPlural:x,formatMessage:y,formatHTMLMessage:z}),wa=Object.keys(ea),xa=Object.keys(fa),ya={formats:{},messages:{},textComponent:"span",defaultLocale:"en",defaultFormats:{}},za=function(b){function c(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,c);var d=S(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b));I("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var e=b.intl,f=void 0;f=isFinite(a.initialNow)?Number(a.initialNow):e?e.now():Date.now();var g=e||{},h=g.formatters,i=void 0===h?{getDateTimeFormat:J(Intl.DateTimeFormat),getNumberFormat:J(Intl.NumberFormat),getMessageFormat:J(E),getRelativeFormat:J(F),getPluralFormat:J(pa)}:h;return d.state=P({},i,{now:function(){return d._didDisplay?Date.now():f}}),d}return Q(c,b),N(c,[{key:"getConfig",value:function(){var b=this.context.intl,c=i(this.props,wa,b);for(var d in ya)void 0===c[d]&&(c[d]=ya[d]);if(!f(c.locale)){var e=c,g=e.locale,h=e.defaultLocale,j=e.defaultFormats;"production"!==a.env.NODE_ENV&&console.error('[React Intl] Missing locale data for locale: "'+g+'". Using default locale: "'+h+'" as fallback.'),c=P({},c,{locale:h,formats:j,messages:ya.messages})}return c}},{key:"getBoundFormatFns",value:function(a,b){return xa.reduce(function(c,d){return c[d]=va[d].bind(null,a,b),c},{})}},{key:"getChildContext",value:function(){var a=this.getConfig(),b=this.getBoundFormatFns(a,this.state),c=this.state,d=c.now,e=R(c,["now"]);return{intl:P({},a,b,{formatters:e,now:d})}}},{key:"shouldComponentUpdate",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.apply(void 0,[this].concat(b))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return G.Children.only(this.props.children)}}]),c}(G.Component);za.displayName="IntlProvider",za.contextTypes={intl:ga},za.childContextTypes={intl:ga.isRequired},"production"!==a.env.NODE_ENV&&(za.propTypes=P({},ea,{children:G.PropTypes.element.isRequired,initialNow:G.PropTypes.any}));var Aa=function(a){function b(a,c){M(this,b);var d=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return j(c),d}return Q(b,a),N(b,[{key:"shouldComponentUpdate",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.apply(void 0,[this].concat(b))}},{key:"render",value:function(){var a=this.context.intl,b=a.formatDate,c=a.textComponent,d=this.props,e=d.value,f=d.children,g=b(e,this.props);return"function"==typeof f?f(g):H.createElement(c,null,g)}}]),b}(G.Component);Aa.displayName="FormattedDate",Aa.contextTypes={intl:ga},"production"!==a.env.NODE_ENV&&(Aa.propTypes=P({},ia,{value:G.PropTypes.any.isRequired,format:G.PropTypes.string,children:G.PropTypes.func}));var Ba=function(a){function b(a,c){M(this,b);var d=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return j(c),d}return Q(b,a),N(b,[{key:"shouldComponentUpdate",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.apply(void 0,[this].concat(b))}},{key:"render",value:function(){var a=this.context.intl,b=a.formatTime,c=a.textComponent,d=this.props,e=d.value,f=d.children,g=b(e,this.props);return"function"==typeof f?f(g):H.createElement(c,null,g)}}]),b}(G.Component);Ba.displayName="FormattedTime",Ba.contextTypes={intl:ga},"production"!==a.env.NODE_ENV&&(Ba.propTypes=P({},ia,{value:G.PropTypes.any.isRequired,format:G.PropTypes.string,children:G.PropTypes.func}));var Ca=1e3,Da=6e4,Ea=36e5,Fa=864e5,Ga=2147483647,Ha=function(a){function b(a,c){M(this,b);var d=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));j(c);var e=isFinite(a.initialNow)?Number(a.initialNow):c.intl.now();return d.state={now:e},d}return Q(b,a),N(b,[{key:"scheduleNextUpdate",value:function(a,b){var c=this,d=a.updateInterval;if(d){var e=new Date(a.value).getTime(),f=e-b.now,g=a.units||A(f),h=B(g),i=Math.abs(f%h),j=f<0?Math.max(d,h-i):Math.max(d,i);clearTimeout(this._timer),this._timer=setTimeout(function(){c.setState({now:c.context.intl.now()})},j)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(a){C(a.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c]
;return l.apply(void 0,[this].concat(b))}},{key:"componentWillUpdate",value:function(a,b){this.scheduleNextUpdate(a,b)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var a=this.context.intl,b=a.formatRelative,c=a.textComponent,d=this.props,e=d.value,f=d.children,g=b(e,P({},this.props,this.state));return"function"==typeof f?f(g):H.createElement(c,null,g)}}]),b}(G.Component);Ha.displayName="FormattedRelative",Ha.contextTypes={intl:ga},Ha.defaultProps={updateInterval:1e4},"production"!==a.env.NODE_ENV&&(Ha.propTypes=P({},ka,{value:G.PropTypes.any.isRequired,format:G.PropTypes.string,updateInterval:G.PropTypes.number,initialNow:G.PropTypes.any,children:G.PropTypes.func}));var Ia=function(a){function b(a,c){M(this,b);var d=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return j(c),d}return Q(b,a),N(b,[{key:"shouldComponentUpdate",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.apply(void 0,[this].concat(b))}},{key:"render",value:function(){var a=this.context.intl,b=a.formatNumber,c=a.textComponent,d=this.props,e=d.value,f=d.children,g=b(e,this.props);return"function"==typeof f?f(g):H.createElement(c,null,g)}}]),b}(G.Component);Ia.displayName="FormattedNumber",Ia.contextTypes={intl:ga},"production"!==a.env.NODE_ENV&&(Ia.propTypes=P({},ja,{value:G.PropTypes.any.isRequired,format:G.PropTypes.string,children:G.PropTypes.func}));var Ja=function(a){function b(a,c){M(this,b);var d=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return j(c),d}return Q(b,a),N(b,[{key:"shouldComponentUpdate",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return l.apply(void 0,[this].concat(b))}},{key:"render",value:function(){var a=this.context.intl,b=a.formatPlural,c=a.textComponent,d=this.props,e=d.value,f=d.other,g=d.children,h=b(e,this.props),i=this.props[h]||f;return"function"==typeof g?g(i):H.createElement(c,null,i)}}]),b}(G.Component);Ja.displayName="FormattedPlural",Ja.contextTypes={intl:ga},Ja.defaultProps={style:"cardinal"},"production"!==a.env.NODE_ENV&&(Ja.propTypes=P({},la,{value:G.PropTypes.any.isRequired,other:G.PropTypes.node.isRequired,zero:G.PropTypes.node,one:G.PropTypes.node,two:G.PropTypes.node,few:G.PropTypes.node,many:G.PropTypes.node,children:G.PropTypes.func}));var Ka=function(a){function b(a,c){M(this,b);var d=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return j(c),d}return Q(b,a),N(b,[{key:"shouldComponentUpdate",value:function(a){var b=this.props.values;if(!k(a.values,b))return!0;for(var c=P({},a,{values:b}),d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return l.apply(void 0,[this,c].concat(e))}},{key:"render",value:function(){var a=this.context.intl,b=a.formatMessage,c=a.textComponent,d=this.props,e=d.id,f=d.description,g=d.defaultMessage,h=d.values,i=d.tagName,j=void 0===i?c:i,k=d.children,l=void 0,m=void 0,n=void 0;h&&Object.keys(h).length>0&&function(){var a=Math.floor(1099511627776*Math.random()).toString(16),b=function(){var b=0;return function(){return"ELEMENT-"+a+"-"+(b+=1)}}();l="@__"+a+"__@",m={},n={},Object.keys(h).forEach(function(a){var c=h[a];if(G.isValidElement(c)){var d=b();m[a]=l+d+l,n[d]=c}else m[a]=c})}();var o={id:e,description:f,defaultMessage:g},p=b(o,m||h),q=void 0;return q=n&&Object.keys(n).length>0?p.split(l).filter(function(a){return!!a}).map(function(a){return n[a]||a}):[p],"function"==typeof k?k.apply(void 0,T(q)):G.createElement.apply(void 0,[j,null].concat(T(q)))}}]),b}(G.Component);Ka.displayName="FormattedMessage",Ka.contextTypes={intl:ga},Ka.defaultProps={values:{}},"production"!==a.env.NODE_ENV&&(Ka.propTypes=P({},ha,{values:G.PropTypes.object,tagName:G.PropTypes.string,children:G.PropTypes.func}));var La=function(a){function b(a,c){M(this,b);var d=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return j(c),d}return Q(b,a),N(b,[{key:"shouldComponentUpdate",value:function(a){var b=this.props.values;if(!k(a.values,b))return!0;for(var c=P({},a,{values:b}),d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return l.apply(void 0,[this,c].concat(e))}},{key:"render",value:function(){var a=this.context.intl,b=a.formatHTMLMessage,c=a.textComponent,d=this.props,e=d.id,f=d.description,g=d.defaultMessage,h=d.values,i=d.tagName,j=void 0===i?c:i,k=d.children,l={id:e,description:f,defaultMessage:g},m=b(l,h);if("function"==typeof k)return k(m);var n={__html:m};return H.createElement(j,{dangerouslySetInnerHTML:n})}}]),b}(G.Component);La.displayName="FormattedHTMLMessage",La.contextTypes={intl:ga},La.defaultProps={values:{}},"production"!==a.env.NODE_ENV&&(La.propTypes=P({},ha,{values:G.PropTypes.object,tagName:G.PropTypes.string,children:G.PropTypes.func})),e(K),e(D),b.addLocaleData=e,b.intlShape=ga,b.injectIntl=n,b.defineMessages=o,b.IntlProvider=za,b.FormattedDate=Aa,b.FormattedTime=Ba,b.FormattedRelative=Ha,b.FormattedNumber=Ia,b.FormattedPlural=Ja,b.FormattedMessage=Ka,b.FormattedHTMLMessage=La}).call(b,c(4))},function(a,b){},function(a,b,c){"use strict";var d=c(25).default;c(33),b=a.exports=d,b.default=b},function(a,b,c){"use strict";var d=c(26),e=c(32);d.default.__addLocaleData(e.default),d.default.defaultLocale="en",b.default=d.default},function(a,b,c){"use strict";function d(a,b,c){var e="string"==typeof a?d.__parse(a):a;if(!e||"messageFormatPattern"!==e.type)throw new TypeError("A message must be provided as a String or AST.");c=this._mergeFormats(d.formats,c),f.defineProperty(this,"_locale",{value:this._resolveLocale(b)});var g=this._findPluralRuleFunction(this._locale),h=this._compilePattern(e,b,c,g),i=this;this.format=function(a){return i._format(h,a)}}var e=c(27),f=c(28),g=c(29),h=c(30);b.default=d,f.defineProperty(d,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),f.defineProperty(d,"__localeData__",{value:f.objCreate(null)}),f.defineProperty(d,"__addLocaleData",{value:function(a){if(!a||!a.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");d.__localeData__[a.locale.toLowerCase()]=a}}),f.defineProperty(d,"__parse",{value:h.default.parse}),f.defineProperty(d,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),d.prototype.resolvedOptions=function(){return{locale:this._locale}},d.prototype._compilePattern=function(a,b,c,d){return new g.default(b,c,d).compile(a)},d.prototype._findPluralRuleFunction=function(a){for(var b=d.__localeData__,c=b[a.toLowerCase()];c;){if(c.pluralRuleFunction)return c.pluralRuleFunction;c=c.parentLocale&&b[c.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+a)},d.prototype._format=function(a,b){var c,d,f,g,h,i="";for(c=0,d=a.length;c<d;c+=1)if("string"!=typeof(f=a[c])){if(g=f.id,!b||!e.hop.call(b,g))throw new Error("A value must be provided for: "+g);h=b[g],f.options?i+=this._format(f.getOption(h),b):i+=f.format(h)}else i+=f;return i},d.prototype._mergeFormats=function(a,b){var c,d,g={};for(c in a)e.hop.call(a,c)&&(g[c]=d=f.objCreate(a[c]),b&&e.hop.call(b,c)&&e.extend(d,b[c]));return g},d.prototype._resolveLocale=function(a){"string"==typeof a&&(a=[a]),a=(a||[]).concat(d.defaultLocale);var b,c,e,f,g=d.__localeData__;for(b=0,c=a.length;b<c;b+=1)for(e=a[b].toLowerCase().split("-");e.length;){if(f=g[e.join("-")])return f.locale;e.pop()}var h=a.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+a.join(", ")+", or the default locale: "+h)}},function(a,b){"use strict";function c(a){var b,c,e,f,g=Array.prototype.slice.call(arguments,1);for(b=0,c=g.length;b<c;b+=1)if(e=g[b])for(f in e)d.call(e,f)&&(a[f]=e[f]);return a}b.extend=c;var d=Object.prototype.hasOwnProperty;b.hop=d},function(a,b,c){"use strict";var d=c(27),e=function(){try{return!!Object.defineProperty({},"a",{})}catch(a){return!1}}(),f=(!e&&Object.prototype.__defineGetter__,e?Object.defineProperty:function(a,b,c){"get"in c&&a.__defineGetter__?a.__defineGetter__(b,c.get):(!d.hop.call(a,b)||"value"in c)&&(a[b]=c.value)}),g=Object.create||function(a,b){function c(){}var e,g;c.prototype=a,e=new c;for(g in b)d.hop.call(b,g)&&f(e,g,b[g]);return e};b.defineProperty=f,b.objCreate=g},function(a,b){"use strict";function c(a,b,c){this.locales=a,this.formats=b,this.pluralFn=c}function d(a){this.id=a}function e(a,b,c,d,e){this.id=a,this.useOrdinal=b,this.offset=c,this.options=d,this.pluralFn=e}function f(a,b,c,d){this.id=a,this.offset=b,this.numberFormat=c,this.string=d}function g(a,b){this.id=a,this.options=b}b.default=c,c.prototype.compile=function(a){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(a)},c.prototype.compileMessage=function(a){if(!a||"messageFormatPattern"!==a.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var b,c,d,e=a.elements,f=[];for(b=0,c=e.length;b<c;b+=1)switch(d=e[b],d.type){case"messageTextElement":f.push(this.compileMessageText(d));break;case"argumentElement":f.push(this.compileArgument(d));break;default:throw new Error("Message element does not have a valid type")}return f},c.prototype.compileMessageText=function(a){return this.currentPlural&&/(^|[^\\])#/g.test(a.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new f(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,a.value)):a.value.replace(/\\#/g,"#")},c.prototype.compileArgument=function(a){var b=a.format;if(!b)return new d(a.id);var c,f=this.formats,h=this.locales,i=this.pluralFn;switch(b.type){case"numberFormat":return c=f.number[b.style],{id:a.id,format:new Intl.NumberFormat(h,c).format};case"dateFormat":return c=f.date[b.style],{id:a.id,format:new Intl.DateTimeFormat(h,c).format};case"timeFormat":return c=f.time[b.style],{id:a.id,format:new Intl.DateTimeFormat(h,c).format};case"pluralFormat":return c=this.compileOptions(a),new e(a.id,b.ordinal,b.offset,c,i);case"selectFormat":return c=this.compileOptions(a),new g(a.id,c);default:throw new Error("Message element does not have a valid format type")}},c.prototype.compileOptions=function(a){var b=a.format,c=b.options,d={};this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===b.type?a:null;var e,f,g;for(e=0,f=c.length;e<f;e+=1)g=c[e],d[g.selector]=this.compileMessage(g.value);return this.currentPlural=this.pluralStack.pop(),d},d.prototype.format=function(a){return a?"string"==typeof a?a:String(a):""},e.prototype.getOption=function(a){var b=this.options;return b["="+a]||b[this.pluralFn(a-this.offset,this.useOrdinal)]||b.other},f.prototype.format=function(a){var b=this.numberFormat.format(a-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+b).replace(/\\#/g,"#")},g.prototype.getOption=function(a){var b=this.options;return b[a]||b.other}},function(a,b,c){"use strict";b=a.exports=c(31).default,b.default=b},function(a,b){"use strict";b.default=function(){function a(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function b(b){function c(a){return Xa!==a&&(Xa>a&&(Xa=0,Ya={line:1,column:1,seenCR:!1}),function(a,c,d){var e,f;for(e=c;e<d;e++)f=b.charAt(e),"\n"===f?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1)}(Ya,Xa,a),Xa=a),Ya}function d(a){Va<Za||(Va>Za&&(Za=Va,$a=[]),$a.push(a))}function e(d,e,f){var g=c(f),h=f<b.length?b.charAt(f):null;return null!==e&&function(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}(e),new a(null!==d?d:function(a,b){var c,d,e,f=new Array(a.length);for(e=0;e<a.length;e++)f[e]=a[e].description;return c=a.length>1?f.slice(0,-1).join(", ")+" or "+f[a.length-1]:f[0],d=b?'"'+function(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}(b)+'"':"end of input","Expected "+c+" but "+d+" found."}(e,h),e,h,f,g.line,g.column)}function f(){return g()}function g(){var a,b,c;for(a=Va,b=[],c=h();c!==E;)b.push(c),c=h();return b!==E&&(Wa=a,b=H(b)),a=b}function h(){var a;return a=j(),a===E&&(a=l()),a}function i(){var a,c,d,e,f,g;if(a=Va,c=[],d=Va,e=w(),e!==E?(f=B(),f!==E?(g=w(),g!==E?(e=[e,f,g],d=e):(Va=d,d=I)):(Va=d,d=I)):(Va=d,d=I),d!==E)for(;d!==E;)c.push(d),d=Va,e=w(),e!==E?(f=B(),f!==E?(g=w(),g!==E?(e=[e,f,g],d=e):(Va=d,d=I)):(Va=d,d=I)):(Va=d,d=I);else c=I;return c!==E&&(Wa=a,c=J(c)),a=c,a===E&&(a=Va,c=v(),c!==E&&(c=b.substring(a,Va)),a=c),a}function j(){var a,b;return a=Va,b=i(),b!==E&&(Wa=a,b=K(b)),a=b}function k(){var a,c,e;if((a=z())===E){if(a=Va,c=[],L.test(b.charAt(Va))?(e=b.charAt(Va),Va++):(e=E,0===_a&&d(M)),e!==E)for(;e!==E;)c.push(e),L.test(b.charAt(Va))?(e=b.charAt(Va),Va++):(e=E,0===_a&&d(M));else c=I;c!==E&&(c=b.substring(a,Va)),a=c}return a}function l(){var a,c,e,f,g,h,i,j,l;return a=Va,123===b.charCodeAt(Va)?(c=N,Va++):(c=E,0===_a&&d(O)),c!==E?(e=w(),e!==E?(f=k(),f!==E?(g=w(),g!==E?(h=Va,44===b.charCodeAt(Va)?(i=Q,Va++):(i=E,0===_a&&d(R)),i!==E?(j=w(),j!==E?(l=m(),l!==E?(i=[i,j,l],h=i):(Va=h,h=I)):(Va=h,h=I)):(Va=h,h=I),h===E&&(h=P),h!==E?(i=w(),i!==E?(125===b.charCodeAt(Va)?(j=S,Va++):(j=E,0===_a&&d(T)),j!==E?(Wa=a,c=U(f,h),a=c):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I),a}function m(){var a;return a=n(),a===E&&(a=o())===E&&(a=p())===E&&(a=q()),a}function n(){var a,c,e,f,g,h,i;return a=Va,b.substr(Va,6)===V?(c=V,Va+=6):(c=E,0===_a&&d(W)),c===E&&(b.substr(Va,4)===X?(c=X,Va+=4):(c=E,0===_a&&d(Y)),c===E&&(b.substr(Va,4)===Z?(c=Z,Va+=4):(c=E,0===_a&&d($)))),c!==E?(e=w(),e!==E?(f=Va,44===b.charCodeAt(Va)?(g=Q,Va++):(g=E,0===_a&&d(R)),g!==E?(h=w(),h!==E?(i=B(),i!==E?(g=[g,h,i],f=g):(Va=f,f=I)):(Va=f,f=I)):(Va=f,f=I),f===E&&(f=P),f!==E?(Wa=a,c=_(c,f),a=c):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I),a}function o(){var a,c,e,f,g,h;return a=Va,b.substr(Va,6)===aa?(c=aa,Va+=6):(c=E,0===_a&&d(ba)),c!==E?(e=w(),e!==E?(44===b.charCodeAt(Va)?(f=Q,Va++):(f=E,0===_a&&d(R)),f!==E?(g=w(),g!==E?(h=u(),h!==E?(Wa=a,c=ca(h),a=c):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I),a}function p(){var a,c,e,f,g,h;return a=Va,b.substr(Va,13)===da?(c=da,Va+=13):(c=E,0===_a&&d(ea)),c!==E?(e=w(),e!==E?(44===b.charCodeAt(Va)?(f=Q,Va++):(f=E,0===_a&&d(R)),f!==E?(g=w(),g!==E?(h=u(),h!==E?(Wa=a,c=fa(h),a=c):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I),a}function q(){var a,c,e,f,g;if(a=Va,b.substr(Va,6)===ga?(c=ga,Va+=6):(c=E,0===_a&&d(ha)),c!==E)if(w()!==E)if(44===b.charCodeAt(Va)?(e=Q,Va++):(e=E,0===_a&&d(R)),e!==E)if(w()!==E){if(f=[],(g=s())!==E)for(;g!==E;)f.push(g),g=s();else f=I;f!==E?(Wa=a,c=ia(f),a=c):(Va=a,a=I)}else Va=a,a=I;else Va=a,a=I;else Va=a,a=I;else Va=a,a=I;return a}function r(){var a,c,e,f;return a=Va,c=Va,61===b.charCodeAt(Va)?(e=ja,Va++):(e=E,0===_a&&d(ka)),e!==E?(f=z(),f!==E?(e=[e,f],c=e):(Va=c,c=I)):(Va=c,c=I),c!==E&&(c=b.substring(a,Va)),a=c,a===E&&(a=B()),a}function s(){var a,c,e,f,h,i,j,k,l;return a=Va,c=w(),c!==E?(e=r(),e!==E?(f=w(),f!==E?(123===b.charCodeAt(Va)?(h=N,Va++):(h=E,0===_a&&d(O)),h!==E?(i=w(),i!==E?(j=g(),j!==E?(k=w(),k!==E?(125===b.charCodeAt(Va)?(l=S,Va++):(l=E,0===_a&&d(T)),l!==E?(Wa=a,c=la(e,j),a=c):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I),a}function t(){var a,c,e,f;return a=Va,b.substr(Va,7)===ma?(c=ma,Va+=7):(c=E,0===_a&&d(na)),c!==E?(e=w(),e!==E?(f=z(),f!==E?(Wa=a,c=oa(f),a=c):(Va=a,a=I)):(Va=a,a=I)):(Va=a,a=I),a}function u(){var a,b,c,d;if(a=Va,b=t(),b===E&&(b=P),b!==E)if(w()!==E){if(c=[],(d=s())!==E)for(;d!==E;)c.push(d),d=s();else c=I;c!==E?(Wa=a,b=pa(b,c),a=b):(Va=a,a=I)}else Va=a,a=I;else Va=a,a=I;return a}function v(){var a,c;if(_a++,a=[],ra.test(b.charAt(Va))?(c=b.charAt(Va),Va++):(c=E,0===_a&&d(sa)),c!==E)for(;c!==E;)a.push(c),ra.test(b.charAt(Va))?(c=b.charAt(Va),Va++):(c=E,0===_a&&d(sa));else a=I;return _a--,a===E&&(c=E,0===_a&&d(qa)),a}function w(){var a,c,e;for(_a++,a=Va,c=[],e=v();e!==E;)c.push(e),e=v();return c!==E&&(c=b.substring(a,Va)),a=c,_a--,a===E&&(c=E,0===_a&&d(ta)),a}function x(){var a;return ua.test(b.charAt(Va))?(a=b.charAt(Va),Va++):(a=E,0===_a&&d(va)),a}function y(){var a;return wa.test(b.charAt(Va))?(a=b.charAt(Va),Va++):(a=E,0===_a&&d(xa)),a}function z(){var a,c,e,f,g,h;if(a=Va,48===b.charCodeAt(Va)?(c=ya,Va++):(c=E,0===_a&&d(za)),c===E){if(c=Va,e=Va,Aa.test(b.charAt(Va))?(f=b.charAt(Va),Va++):(f=E,0===_a&&d(Ba)),f!==E){for(g=[],h=x();h!==E;)g.push(h),h=x();g!==E?(f=[f,g],e=f):(Va=e,e=I)}else Va=e,e=I;e!==E&&(e=b.substring(c,Va)),c=e}return c!==E&&(Wa=a,c=Ca(c)),a=c}function A(){var a,c,e,f,g,h,i,j;return Da.test(b.charAt(Va))?(a=b.charAt(Va),Va++):(a=E,0===_a&&d(Ea)),a===E&&(a=Va,b.substr(Va,2)===Fa?(c=Fa,Va+=2):(c=E,0===_a&&d(Ga)),c!==E&&(Wa=a,c=Ha()),(a=c)===E&&(a=Va,b.substr(Va,2)===Ia?(c=Ia,Va+=2):(c=E,0===_a&&d(Ja)),c!==E&&(Wa=a,c=Ka()),(a=c)===E&&(a=Va,b.substr(Va,2)===La?(c=La,Va+=2):(c=E,0===_a&&d(Ma)),c!==E&&(Wa=a,c=Na()),(a=c)===E&&(a=Va,b.substr(Va,2)===Oa?(c=Oa,Va+=2):(c=E,0===_a&&d(Pa)),c!==E&&(Wa=a,c=Qa()),(a=c)===E&&(a=Va,b.substr(Va,2)===Ra?(c=Ra,Va+=2):(c=E,0===_a&&d(Sa)),c!==E?(e=Va,f=Va,g=y(),g!==E?(h=y(),h!==E?(i=y(),i!==E?(j=y(),j!==E?(g=[g,h,i,j],f=g):(Va=f,f=I)):(Va=f,f=I)):(Va=f,f=I)):(Va=f,f=I),f!==E&&(f=b.substring(e,Va)),e=f,e!==E?(Wa=a,c=Ta(e),a=c):(Va=a,a=I)):(Va=a,a=I)))))),a}function B(){var a,b,c;if(a=Va,b=[],(c=A())!==E)for(;c!==E;)b.push(c),c=A();else b=I;return b!==E&&(Wa=a,b=Ua(b)),a=b}var C,D=arguments.length>1?arguments[1]:{},E={},F={start:f},G=f,H=function(a){return{type:"messageFormatPattern",elements:a}},I=E,J=function(a){var b,c,d,e,f,g="";for(b=0,d=a.length;b<d;b+=1)for(e=a[b],c=0,f=e.length;c<f;c+=1)g+=e[c];return g},K=function(a){return{type:"messageTextElement",value:a}},L=/^[^ \t\n\r,.+={}#]/,M={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},N="{",O={type:"literal",value:"{",description:'"{"'},P=null,Q=",",R={type:"literal",value:",",description:'","'},S="}",T={type:"literal",value:"}",description:'"}"'},U=function(a,b){return{type:"argumentElement",id:a,format:b&&b[2]}},V="number",W={type:"literal",value:"number",description:'"number"'},X="date",Y={type:"literal",value:"date",description:'"date"'},Z="time",$={type:"literal",value:"time",description:'"time"'},_=function(a,b){return{type:a+"Format",style:b&&b[2]}},aa="plural",ba={type:"literal",value:"plural",description:'"plural"'},ca=function(a){return{type:a.type,ordinal:!1,offset:a.offset||0,options:a.options}},da="selectordinal",ea={type:"literal",value:"selectordinal",description:'"selectordinal"'},fa=function(a){return{type:a.type,ordinal:!0,offset:a.offset||0,options:a.options}},ga="select",ha={type:"literal",value:"select",description:'"select"'},ia=function(a){return{type:"selectFormat",options:a}},ja="=",ka={type:"literal",value:"=",description:'"="'},la=function(a,b){return{type:"optionalFormatPattern",selector:a,value:b}},ma="offset:",na={type:"literal",value:"offset:",description:'"offset:"'},oa=function(a){return a},pa=function(a,b){return{type:"pluralFormat",offset:a,options:b}},qa={type:"other",description:"whitespace"},ra=/^[ \t\n\r]/,sa={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},ta={type:"other",description:"optionalWhitespace"},ua=/^[0-9]/,va={type:"class",value:"[0-9]",description:"[0-9]"},wa=/^[0-9a-f]/i,xa={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},ya="0",za={type:"literal",value:"0",description:'"0"'},Aa=/^[1-9]/,Ba={type:"class",value:"[1-9]",description:"[1-9]"},Ca=function(a){return parseInt(a,10)},Da=/^[^{}\\\0-\x1F \t\n\r]/,Ea={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},Fa="\\\\",Ga={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Ha=function(){return"\\"},Ia="\\#",Ja={type:"literal",value:"\\#",description:'"\\\\#"'},Ka=function(){return"\\#"},La="\\{",Ma={type:"literal",value:"\\{",description:'"\\\\{"'},Na=function(){return"{"},Oa="\\}",Pa={type:"literal",value:"\\}",description:'"\\\\}"'},Qa=function(){return"}"},Ra="\\u",Sa={type:"literal",value:"\\u",description:'"\\\\u"'},Ta=function(a){return String.fromCharCode(parseInt(a,16))},Ua=function(a){return a.join("")},Va=0,Wa=0,Xa=0,Ya={line:1,column:1,seenCR:!1},Za=0,$a=[],_a=0;if("startRule"in D){if(!(D.startRule in F))throw new Error("Can't start parsing from rule \""+D.startRule+'".');G=F[D.startRule]}if((C=G())!==E&&Va===b.length)return C;throw C!==E&&Va<b.length&&d({type:"end",description:"end of input"}),e(null,$a,Za)}return function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}(a,Error),{SyntaxError:a,parse:b}}()},function(a,b){"use strict";b.default={locale:"en",pluralRuleFunction:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"}}},function(a,b){},function(a,b,c){"use strict";var d=c(35).default;c(40),b=a.exports=d,b.default=b},function(a,b,c){"use strict";var d=c(36),e=c(39);d.default.__addLocaleData(e.default),d.default.defaultLocale="en",b.default=d.default},function(a,b,c){"use strict";function d(a,b){b=b||{},g.isArray(a)&&(a=a.concat()),g.defineProperty(this,"_locale",{value:this._resolveLocale(a)}),g.defineProperty(this,"_options",{value:{style:this._resolveStyle(b.style),units:this._isValidUnits(b.units)&&b.units}}),g.defineProperty(this,"_locales",{value:a}),g.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),g.defineProperty(this,"_messages",{value:g.objCreate(null)});var c=this;this.format=function(a,b){return c._format(a,b)}}var e=c(24),f=c(37),g=c(38);b.default=d;var h=["second","minute","hour","day","month","year"],i=["best fit","numeric"];g.defineProperty(d,"__localeData__",{value:g.objCreate(null)}),g.defineProperty(d,"__addLocaleData",{value:function(a){if(!a||!a.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");d.__localeData__[a.locale.toLowerCase()]=a,e.default.__addLocaleData(a)}}),g.defineProperty(d,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),g.defineProperty(d,"thresholds",{enumerable:!0,value:{second:45,minute:45,hour:22,day:26,month:11}}),d.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},d.prototype._compileMessage=function(a){var b,c=this._locales,d=(this._locale,this._fields[a]),f=d.relativeTime,g="",h="";for(b in f.future)f.future.hasOwnProperty(b)&&(g+=" "+b+" {"+f.future[b].replace("{0}","#")+"}");for(b in f.past)f.past.hasOwnProperty(b)&&(h+=" "+b+" {"+f.past[b].replace("{0}","#")+"}");var i="{when, select, future {{0, plural, "+g+"}}past {{0, plural, "+h+"}}}";return new e.default(i,c)},d.prototype._getMessage=function(a){var b=this._messages;return b[a]||(b[a]=this._compileMessage(a)),b[a]},d.prototype._getRelativeUnits=function(a,b){var c=this._fields[b];if(c.relative)return c.relative[a]},d.prototype._findFields=function(a){for(var b=d.__localeData__,c=b[a.toLowerCase()];c;){if(c.fields)return c.fields;c=c.parentLocale&&b[c.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+a)},d.prototype._format=function(a,b){var c=b&&void 0!==b.now?b.now:g.dateNow();if(void 0===a&&(a=c),!isFinite(c))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(a))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var d=f.default(c,a),e=this._options.units||this._selectUnits(d),h=d[e];if("numeric"!==this._options.style){var i=this._getRelativeUnits(h,e);if(i)return i}return this._getMessage(e).format({0:Math.abs(h),when:h<0?"past":"future"})},d.prototype._isValidUnits=function(a){if(!a||g.arrIndexOf.call(h,a)>=0)return!0;if("string"==typeof a){var b=/s$/.test(a)&&a.substr(0,a.length-1);if(b&&g.arrIndexOf.call(h,b)>=0)throw new Error('"'+a+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+b)}throw new Error('"'+a+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+h.join('", "')+'"')},d.prototype._resolveLocale=function(a){"string"==typeof a&&(a=[a]),a=(a||[]).concat(d.defaultLocale);var b,c,e,f,g=d.__localeData__;for(b=0,c=a.length;b<c;b+=1)for(e=a[b].toLowerCase().split("-");e.length;){if(f=g[e.join("-")])return f.locale;e.pop()}var h=a.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+a.join(", ")+", or the default locale: "+h)},d.prototype._resolveStyle=function(a){if(!a)return i[0];if(g.arrIndexOf.call(i,a)>=0)return a;throw new Error('"'+a+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+i.join('", "')+'"')},d.prototype._selectUnits=function(a){var b,c,e;for(b=0,c=h.length;b<c&&(e=h[b],!(Math.abs(a[e])<d.thresholds[e]));b+=1);return e}},function(a,b){"use strict";function c(a){return 400*a/146097}var d=Math.round;b.default=function(a,b){a=+a,b=+b;var e=d(b-a),f=d(e/1e3),g=d(f/60),h=d(g/60),i=d(h/24),j=d(i/7),k=c(i);return{millisecond:e,second:f,minute:g,hour:h,day:i,week:j,month:d(12*k),year:d(k)}}},function(a,b){"use strict";var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,e=function(){try{return!!Object.defineProperty({},"a",{})}catch(a){return!1}}(),f=(!e&&Object.prototype.__defineGetter__,e?Object.defineProperty:function(a,b,d){"get"in d&&a.__defineGetter__?a.__defineGetter__(b,d.get):(!c.call(a,b)||"value"in d)&&(a[b]=d.value)}),g=Object.create||function(a,b){function d(){}var e,g;d.prototype=a,e=new d;for(g in b)c.call(b,g)&&f(e,g,b[g]);return e},h=Array.prototype.indexOf||function(a,b){var c=this;if(!c.length)return-1;for(var d=b||0,e=c.length;d<e;d++)if(c[d]===a)return d;return-1},i=Array.isArray||function(a){return"[object Array]"===d.call(a)},j=Date.now||function(){return(new Date).getTime()};b.defineProperty=f,b.objCreate=g,b.arrIndexOf=h,b.isArray=i,b.dateNow=j},function(a,b){"use strict";b.default={locale:"en",pluralRuleFunction:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}}},function(a,b){},function(a,b,c){(function(b){"use strict";var c=function(a,c,d,e,f,g,h,i){if("production"!==b.env.NODE_ENV&&void 0===c)throw new Error("invariant requires an error message argument");if(!a){var j;if(void 0===c)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,e,f,g,h,i],l=0;j=new Error(c.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}};a.exports=c}).call(b,c(4))},function(a,b,c){"use strict";b=a.exports=c(43).default,b.default=b},function(a,b,c){"use strict";function d(a){var b=g.objCreate(null);return function(){var c=Array.prototype.slice.call(arguments),d=e(c),f=d&&b[d];return f||(f=new(g.bind.apply(a,[null].concat(c))),d&&(b[d]=f)),f}}function e(a){if("undefined"!=typeof JSON){var b,c,d,e=[];for(b=0,c=a.length;b<c;b+=1)d=a[b],d&&"object"==typeof d?e.push(f(d)):e.push(d);return JSON.stringify(e)}}function f(a){var b,c,d,e,f=[],g=[];for(b in a)a.hasOwnProperty(b)&&g.push(b);var h=g.sort();for(c=0,d=h.length;c<d;c+=1)b=h[c],e={},e[b]=a[b],f[c]=e;return f}var g=c(44);b.default=d},function(a,b){"use strict";var c=Function.prototype.bind||function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(d.prototype=this.prototype),e.prototype=new d,e},d=Object.prototype.hasOwnProperty,e=function(){try{return!!Object.defineProperty({},"a",{})}catch(a){return!1}}(),f=(!e&&Object.prototype.__defineGetter__,e?Object.defineProperty:function(a,b,c){"get"in c&&a.__defineGetter__?a.__defineGetter__(b,c.get):(!d.call(a,b)||"value"in c)&&(a[b]=c.value)}),g=Object.create||function(a,b){function c(){}var e,g;c.prototype=a,e=new c;for(g in b)d.call(b,g)&&f(e,g,b[g]);return e};b.bind=c,b.defineProperty=f,b.objCreate=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=c(1),h=d(g),i=c(9),j=d(i),k=c(13),l=d(k),m=c(12),n=d(m),o=c(22),p=function(a){var b,c=a.decoratedActions?Object.assign({},l.default,a.decoratedActions):l.default,d=a.directory.map(function(b,c){var d=b.directories.sort(function(a,b){return a.cd===b.cd?0:a.cd>b.cd?1:-1}).map(function(c,d){return console.log(a.source.currentSource.id==b.id&&a.content.cd==c.cd,a.source.currentSource.id,b.id,a.content.cd,c.cd),h.default.createElement("option",{key:d,value:b.id+"||"+c.cd,checked:a.source.currentSource.id==b.id&&a.content.cd==c.cd},c.cd)});return h.default.createElement("optgroup",{key:c,label:b.name,"data-source":void 0===b.id?c:b.id},h.default.createElement("option",{value:b.id+"||/",checked:"/"==a.content.cd&&a.source.currentSource==b.id},"./"),d)}),g=h.default.createElement("input",(b={type:"hidden",name:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"mediaSourceId"},
e(b,"name",(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"mediaSourceId"),e(b,"value",a.config.uid),b)),i=n.default.serverSideRendering?h.default.createElement("button",{type:"submit"},h.default.createElement(o.FormattedMessage,{id:"directory.set",defaultMessage:"Set Directory"})):void 0,k=h.default.createElement("select",{"aria-live":"polite",value:a.source.currentSource+"||"+a.content.cd,name:"eureka__media-browser_0__browsing",id:"eureka__media-browser_0__browsing",onChange:function(a){var b=n.default.parseMediaSourceOutOfCombinedPath(a.target.value,"||"),d=f(b,2),e=d[0],g=d[1];console.log("YOLO",e,g),j.default.dispatch(c.updateSource(e)),j.default.dispatch(c.updateContent({cd:g})),j.default.dispatch(c.fetchDirectoryContents(e,{path:g}))}},d),m=h.default.createElement("input",{type:"hidden",name:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"upload-dir",value:a.content.cd}),p=n.default.serverSideRendering?h.default.createElement("div",null,g,m,k,i):h.default.createElement("form",{action:"#"},g,k,i);return h.default.createElement("div",{className:"eureka__media-directory-selector"},h.default.createElement("label",{htmlFor:"eureka__media-browser_0__browsing"},h.default.createElement(o.FormattedMessage,{id:"directory.browse",defaultMessage:"Browse Directory"}),":")," ",p)};b.default=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=c(1),g=d(f),h=c(47),i=d(h),j=(c(22),c(48)),k=d(j),l=function(a){var b=a.intl.formatMessage,c=b(k.default.uploadFileTo,{cd:a.content.cd}),d=a.config.allowUploads?g.default.createElement("button",{title:c,onClick:function(a){try{a.target.parentNode.parentNode.querySelector(".eureka__drop-area-zone").click()}catch(a){}}},g.default.createElement("span",{className:"visually-hidden"},c),g.default.createElement(i.default,e({},a,{icon:"upload"}))):void 0,f=b(k.default.createNewDirectoryIn,{cd:a.content.cd});return g.default.createElement("div",{className:"eureka__tree-bar"},g.default.createElement("button",{title:f,onClick:a.onCreateDirectory},g.default.createElement("span",{className:"visually-hidden"},f),g.default.createElement(i.default,e({},a,{icon:"plus-square"}))),d)};b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(3),h=d(g),i=function(a){var b=Object.assign({},{assetsBasePath:"./assets/",iconSVG:"./img/icons.svg"},a.config);return f.default.createElement("svg",{"aria-hidden":void 0===a.ariaHidden||a.ariaHidden,className:"icon icon-"+a.icon},f.default.createElement("use",{xlinkHref:h.default.join(b.assetsBasePath,b.iconSVG)+"#icon-"+a.icon}))};b.default=i},function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0});var e,f=c(22);b.default=(0,f.defineMessages)((e={directory:{id:"directory.create",defaultMessage:"Create a Directory"},createNewDirectoryIn:{id:"directory.createNewIn",defaultMessage:"Create a new Directory in {cd}"},choose:{id:"choose",defaultMessage:"Choose"},cancel:{id:"cancel",defaultMessage:"Cancel"},mediaSourceTree:{id:"mediaSourceTree",defaultMessage:"Media Source Panel"},close:{id:"close",defaultMessage:"Close"},open:{id:"open",defaultMessage:"Open"},rename:{id:"rename",defaultMessage:"Rename"},delete:{id:"delete",defaultMessage:"Delete"},in:{id:"in",defaultMessage:"in"},createFile:{id:"file.create",defaultMessage:"Create File"},contentsOfBy:{id:"contents.ofby",defaultMessage:"contents of {cd} by filename, filesize, dimensions or even modification date"},filterContentsOfBy:{id:"contents.filterBy",defaultMessage:"Filter contents of {cd} by filename, filesize, dimensions or even modification date"},quickCreateFile:{id:"file.quickCreate",defaultMessage:"Quick Create Files"},cannotRename:{id:"rename.cannot",defaultMessage:"Cannot rename {filename} to the same name"},expand:{id:"expand",defaultMessage:"Expand"},chooseItem:{id:"choose.item",defaultMessage:"Choose {filename}"},renameItem:{id:"rename.item",defaultMessage:"Rename {filename}"},deleteDirectory:{id:"directory.delete",defaultMessage:"Delete Directory"},deleteItem:{id:"delete.item",defaultMessage:"Delete {filename}"},expandItem:{id:"expand.item",defaultMessage:"Expand {filename}"},refreshDirectory:{id:"directory.refresh",defaultMessage:"Refresh Directory"},uploadFiles:{id:"upload.files",defaultMessage:"Upload Files"},uploadFileTo:{id:"upload.filesTo",defaultMessage:"Upload File to {cd}"},closeMediaBrowser:{id:"close.mediaBrowser",defaultMessage:"Close Media Browser"},performContextualActions:{id:"context.performActions",defaultMessage:"Perform Actions such as Expand or Choose on {filename}"}},d(e,"choose",{id:"choose",defaultMessage:"Choose"}),d(e,"chmodDirectory",{id:"directory.chmod",defaultMessage:"chmod Directory"}),d(e,"item",{id:"item",defaultMessage:"item"}),d(e,"tabularLayoutDescription",{id:"layout.tabular",defaultMessage:"Tabular Layout displays image thumbnails along with Name, Description, File Size and Edited On columns"}),d(e,"thumbnailLayoutDescription",{id:"layout.thumbnail",defaultMessage:"Thumbnail layout displays a grid of medium sized thumbnails"}),d(e,"gridLayoutDescription",{id:"layout.grid",defaultMessage:"Grid View displays images a grid of large images"}),d(e,"listLayoutDescription",{id:"layout.list",defaultMessage:"List Layout displays Name, Description, File Size and Edited On columns"}),d(e,"openFileInNewTab",{id:"file.openInNewTab",defaultMessage:"Open {filename} in a new tab"}),d(e,"mediaItem",{id:"mediaItem",defaultMessage:"media item"}),d(e,"pluralItem",{id:"pluralItem",defaultMessage:"a media item"}),d(e,"mediaSourceTreeMessage",{id:"media.sourceTree",defaultMessage:"Media Source Panel"}),d(e,"dragFilesToBeUploadedTo",{id:"upload.dragFilestoUpload",defaultMessage:"Drag files here to be uploaded to {cd}"}),e))},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(9),h=d(g),i=c(13),j=d(i),k=c(47),l=(d(k),c(48)),m=d(l),n=function(a){var b=a.intl.formatMessage,c=b(m.default.close),d=b(m.default.open),e=b(m.default.mediaSourceTreeMessage);return f.default.createElement("div",null,f.default.createElement("button",{id:"eureka__tree-toggle__button","aria-controls":"eureka__pathbrowser","aria-expanded":a.view.sourceTreeOpen,onClick:function(b){h.default.dispatch(j.default.updateView({sourceTreeOpen:!a.view.sourceTreeOpen}))}},(a.view.sourceTreeOpen?c:d)+" "+e))};b.default=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(12),h=d(g),i=(c(22),c(48)),j=d(i),k=function(a){var b=a.intl,c=b.formatMessage,d=b.formatPlural,e=c(j.default.closeMediaBrowser),g=c(j.default.choose),i=c(j.default.mediaItem),k=d(j.default.pluralItem),l=c(j.default.cancel);return f.default.createElement("div",{"aria-hidden":a.ariaHidden,className:"eureka__button-bar eureka__choose-bar"},f.default.createElement("button",{"aria-label":e,onClick:function(b){console.log("closing");try{a.config.callbacks.close()}catch(a){console.log(a)}}},l),f.default.createElement("button",{id:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"choose-button",className:"eureka__primary",disabled:!a.view.focusedMediaItem&&!h.default.serverSideRendering,onClick:function(b){if(a.view.focusedMediaItem)try{a.config.callbacks.choose(a.view.focusedMediaItem)}catch(a){console.log(a)}}},g,f.default.createElement("span",{className:"visually-hidden"}," ",function(){try{return a.view.focusedMediaItem.filename||" "+k}catch(a){return" "+i}}())))};b.default=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(9),l=d(k),m=c(13),n=d(m),o=c(12),p=d(o),q=c(52),r=d(q),s=c(22),t=c(48),u=d(t),v=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={placeholderField:"filename",lastDir:"/"},c}return g(b,a),h(b,[{key:"componentDidMount",value:function(){var a=this;this.pickRandomField(),this.props.view.intervals.searchBarPlaceholder&&setInterval(function(){a.pickRandomField()},this.props.view.intervals.searchBarPlaceholder)}},{key:"pickRandomField",value:function(){var a=(Math.random(),["filename","dimensions","editedOn","fileSize"]);this.setState({placeholderField:a[Math.round(Math.random()*(a.length-1))]})}},{key:"render",value:function(){var a=this,b=this.props,c=b.intl.formatMessage,d=(j.default.createElement("option",{key:"0"},"FileSystem"),function(){if(!b.content.contents.length)return"";var c=b.content.contents[Math.round(Math.random()*(b.content.contents.length-1))];switch(a.state.placeholderField){case"filename":return c.filename;case"dimensions":return c.dimensions.join("x");case"editedOn":return Math.random()<.5?new Date(c.editedOn).toLocaleString():new Date(c.editedOn).toLocaleString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});case"fileSize":return(0,r.default)(c.fileSize,{round:0})}}()),e=j.default.createElement("datalist",{id:(void 0!==b.config.storagePrefix?b.config.storagePrefix:"eureka__")+"__datalist"},b.content.contents.map(function(a){return j.default.createElement("option",{key:a.filename,value:a.filename})})),f=c(u.default.filterContentsOfBy,{cd:b.content.cd}),g=c(u.default.contentsOfBy,{cd:b.content.cd}),h=j.default.createElement(s.FormattedMessage,{id:"filter",defaultMessage:"Filter"});return p.default.serverSideRendering?j.default.createElement("div",{className:"eureka__search-bar"},j.default.createElement("label",{htmlFor:"eureka__filter",title:f},h,j.default.createElement("span",{className:"visually-hidden"}," ",g),": "),j.default.createElement("input",{list:(void 0!==b.config.storagePrefix?b.config.storagePrefix:"eureka__")+"__datalist",type:"text",name:"eureka__filter",id:"eureka__filter",placeholder:d,value:b.view.filter,onChange:function(a){l.default.dispatch(n.default.updateView({filter:a.target.value||void 0}))}}),e):j.default.createElement("form",{className:"eureka__search-bar"},j.default.createElement("label",{htmlFor:"eureka__filter",title:f},h,j.default.createElement("span",{className:"visually-hidden"}," ",g),": "),j.default.createElement("input",{list:(void 0!==b.config.storagePrefix?b.config.storagePrefix:"eureka__")+"__datalist",type:"text",name:"eureka__filter",id:"eureka__filter",placeholder:d,value:b.view.filter,onChange:function(a){l.default.dispatch(n.default.updateView({filter:a.target.value||void 0}))}}),e)}}]),b}(i.Component);b.default=v},function(a,b,c){(function(b){"use strict";!function(b){function c(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=[],g=0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0;if(isNaN(a))throw new Error("Invalid arguments");return j=b.bits===!0,r=b.unix===!0,i=b.base||2,q=void 0!==b.round?b.round:r?1:2,s=void 0!==b.spacer?b.spacer:r?"":" ",u=b.symbols||b.suffixes||{},t=2===i?b.standard||"jedec":"jedec",p=b.output||"string",l=b.fullform===!0,m=b.fullforms instanceof Array?b.fullforms:[],h=void 0!==b.exponent?b.exponent:-1,o=Number(a),n=o<0,k=i>2?1e3:1024,n&&(o=-o),0===o?(h=0,c[0]=0,c[1]=r?"":j?"b":"B"):((h===-1||isNaN(h))&&(h=Math.floor(Math.log(o)/Math.log(k)))<0&&(h=0),h>8&&(h=8),g=o/(2===i?Math.pow(2,10*h):Math.pow(1e3,h)),j&&(g*=8)>=k&&h<8&&(g/=k,h++),c[0]=Number(g.toFixed(h>0?q:0)),c[1]=10===i&&1===h?j?"kb":"kB":e[t][j?"bits":"bytes"][h],r&&(c[1]="jedec"===t?c[1].charAt(0):h>0?c[1].replace(/B$/,""):c[1],d.test(c[1])&&(c[0]=Math.floor(c[0]),c[1]=""))),n&&(c[0]=-c[0]),c[1]=u[c[1]]||c[1],"array"===p?c:"exponent"===p?h:"object"===p?{value:c[0],suffix:c[1],symbol:c[1]}:(l&&(c[1]=m[h]?m[h]:f[t][h]+(j?"bit":"byte")+(1===c[0]?"":"s")),c.join(s))}var d=/^(b|B)$/,e={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},f={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};c.partial=function(a){return function(b){return c(b,a)}},a.exports=c}("undefined"!=typeof window&&window)}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=c(1),g=d(f),h=c(9),i=d(h),j=c(13),k=d(j),l=c(47),m=d(l),n=c(22),o=c(48),p=d(o),q=function(a){var b=a.intl.formatMessage,c=b(p.default.tabularLayoutDescription),d=b(p.default.thumbnailLayoutDescription),f=b(p.default.gridLayoutDescription),h=b(p.default.listLayoutDescription);return g.default.createElement("form",{className:"eureka__layout-chooser"},g.default.createElement("fieldset",null,g.default.createElement("legend",null,"Choose a Layout Mode"),g.default.createElement("div",{className:"eureka__icon-radio-btns"},g.default.createElement("div",null,g.default.createElement("input",{type:"radio",id:"eureka__view-table",name:"eureka__view",onChange:function(a){return i.default.dispatch(k.default.updateView({mode:a.target.value}))},checked:"table"===a.view.mode,value:"table"})," ",g.default.createElement("label",{htmlFor:"eureka__view-table",title:c},g.default.createElement(m.default,e({},a,{icon:"th-list"})),g.default.createElement("span",{className:"visually-hidden"},g.default.createElement(n.FormattedMessage,{id:"layout.table",defaultMessage:"Table Layout"})))),g.default.createElement("div",null,g.default.createElement("input",{type:"radio",id:"eureka__view-thumb",name:"eureka__view",onChange:function(a){return i.default.dispatch(k.default.updateView({mode:a.target.value}))},checked:"thumb"===a.view.mode,value:"thumb"})," ",g.default.createElement("label",{htmlFor:"eureka__view-thumb",title:d},g.default.createElement(m.default,e({},a,{icon:"th-large"})),g.default.createElement("span",{className:"visually-hidden"},g.default.createElement(n.FormattedMessage,{id:"layout.thumb",defaultMessage:"Thumbnail Layout"})))),g.default.createElement("div",null,g.default.createElement("input",{type:"radio",id:"eureka__view-grid",name:"eureka__view",onChange:function(a){return i.default.dispatch(k.default.updateView({mode:a.target.value}))},checked:"grid"===a.view.mode,value:"grid"})," ",g.default.createElement("label",{htmlFor:"eureka__view-grid",title:f},g.default.createElement(m.default,e({},a,{icon:"square"})),g.default.createElement("span",{className:"visually-hidden"},g.default.createElement(n.FormattedMessage,{id:"layout.grid",defaultMessage:"Grid Layout"})))),g.default.createElement("div",null,g.default.createElement("input",{type:"radio",id:"eureka__view-list",name:"eureka__view",onChange:function(a){return i.default.dispatch(k.default.updateView({mode:a.target.value}))},checked:"list"===a.view.mode,value:"list"})," ",g.default.createElement("label",{htmlFor:"eureka__view-list",title:h},g.default.createElement(m.default,e({},a,{icon:"list"})),g.default.createElement("span",{className:"visually-hidden"},g.default.createElement(n.FormattedMessage,{id:"layout.list",defaultMessage:"List Layout"})))))))};b.default=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(9),m=d(l),n=c(13),o=d(n),p=c(55),q=d(p),r=c(59),s=d(r),t=c(61),u=d(t),v=c(47),w=d(v),x=c(12),y=d(x),z=c(22),A=c(48),B=d(A),C=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={sort:{by:"filename",dir:y.default.ASCENDING,renamingItem:void 0}},c.decoratedActions=a.decoratedActions?Object.assign({},o.default,a.decoratedActions):o.default,c}return g(b,a),i(b,[{key:"onDrop",value:function(a){var b=this.props,c=new FormData,d=this.decoratedActions;a.forEach(function(a){c.append("eureka__uploadFiles",a,a.name)}),m.default.dispatch(d.uploadFiles(b.source.currentSource,b.content.cd,c))}},{key:"render",value:function(){var a=this,b=this.props,c=(this.state,b.intl.formatMessage),d=this.decoratedActions,e=b.content.contents.length?b.content.contents.map(function(a,e){return k.default.createElement("menu",{key:e,hidden:"true",type:"context",id:"context_menu__tbody-"+e},k.default.createElement("menuitem",{label:c(B.default.expandItem,{filename:a.filename})}),k.default.createElement("menuitem",{label:c(B.default.chooseItem,{filename:a.filename})}),k.default.createElement("menuitem",{label:c(B.default.renameItem,{filename:a.filename})}),k.default.createElement("menuitem",{label:c(B.default.deleteItem,{filename:a.filename}),onClick:function(c){m.default.dispatch(d.deleteMediaItem(b.source.currentSource,a.path))}}))}):void 0,f=y.default.serverSideRendering?k.default.createElement("th",{scope:"col",role:"columnheader"},"Select"):void 0,g=k.default.createElement("table",{className:"eureka__table",cellSpacing:"0",cellPadding:"0"},k.default.createElement("thead",{hidden:!b.content.contents.length,className:(0,s.default)(m.default.getState().view.isTableScrolling?"eureka__tbody-scrolling":void 0)},k.default.createElement("tr",null,f,k.default.createElement("th",{scope:"col",role:"columnheader"},k.default.createElement(z.FormattedMessage,{id:"media",defaultMessage:"Media"})),k.default.createElement("th",{scope:"col",role:"columnheader",onClick:function(b){var c=a.state.sort.dir;"filename"===a.state.sort.by&&(c=c===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),a.setState({sort:{by:"filename",dir:c}})}},k.default.createElement(z.FormattedMessage,{id:"name",defaultMessage:"Name"})," ",y.default.serverSideRendering?void 0:k.default.createElement(w.default,h({},b,{icon:"sort"}))),k.default.createElement("th",{scope:"col",role:"columnheader",className:"visually-hidden"},"Actions"),k.default.createElement("th",{scope:"col",role:"columnheader",onClick:function(b){var c=a.state.sort.dir;"dimensions"===a.state.sort.by&&(c=c===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),a.setState({sort:{by:"dimensions",dir:c}})}},k.default.createElement(z.FormattedMessage,{id:"dimensions",defaultMessage:"Dimensions"})," ",y.default.serverSideRendering?void 0:k.default.createElement(w.default,h({},b,{icon:"sort"}))),k.default.createElement("th",{scope:"col",role:"columnheader",onClick:function(b){var c=a.state.sort.dir;"fileSize"===a.state.sort.by&&(c=c===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),a.setState({sort:{by:"fileSize",dir:c}})}},k.default.createElement(z.FormattedMessage,{id:"fileSize",defaultMessage:"File Size"})," ",y.default.serverSideRendering?void 0:k.default.createElement(w.default,h({},b,{icon:"sort"}))),k.default.createElement("th",{scope:"col",role:"columnheader",onClick:function(b){var c=a.state.sort.dir;"editedOn"===a.state.sort.by&&(c=c===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),a.setState({sort:{by:"editedOn",dir:c}})}},k.default.createElement(z.FormattedMessage,{id:"editedOn",defaultMessage:"Edited On"})," ",y.default.serverSideRendering?void 0:k.default.createElement(w.default,h({},b,{icon:"sort"}))))),k.default.createElement(q.default,h({},b,{sort:this.state.sort})));return b.config.allowUploads&&!y.default.serverSideRendering?k.default.createElement(u.default,{onDrop:this.onDrop.bind(this),disableClick:!0,style:{}},g,e):k.default.createElement("div",null,g,e)}}]),b}(j.Component);b.default=C},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a){var b=l.default.createElement(z.FormattedMessage,{id:"search.tryAnother",defaultMessage:"Try another search"});return a.view.filter?l.default.createElement("tr",{role:"row"},l.default.createElement("td",{role:"presentation",colSpan:"5",className:"comfortable"},l.default.createElement("p",{className:"alert-info eureka__notice","aria-live":"assertive"},l.default.createElement(z.FormattedMessage,{id:"search.noResults",defaultMessage:'Uh oh. No results found for "{filter}"',values:{filter:a.view.filter}}),". ",l.default.createElement("a",{href:"#eureka__filter",onClick:function(a){a.preventDefault(),document.getElementById("eureka__filter").focus()}},b)," ",l.default.createElement(z.FormattedMessage,{id:"grammar.or",defaultMessage:"or"})," ",l.default.createElement("a",{href:"#eureka__filter",onClick:function(a){a.preventDefault(),q.default.dispatch(s.default.updateView({filter:void 0})),document.getElementById("eureka__filter").value=""}},l.default.createElement(z.FormattedMessage,{id:"search.clearFilter",defaultMessage:"clear the search filter"})),"."))):l.default.createElement("tr",null,l.default.createElement("td",{role:"presentation",colSpan:"5",className:"comfortable"},l.default.createElement("p",{className:"alert-info eureka__notice","aria-live":"assertive"},l.default.createElement(z.FormattedMessage,{id:"directory.appearsToBeEmpty",defaultMessage:'Directory "{cd}" appears to be empty.',values:{cd:a.content.cd}}),l.default.createElement("br",null),l.default.createElement(z.FormattedMessage,{id:"perhapsYouWouldLikeTo",defaultMessage:"Perhaps you'd like to"})," ",l.default.createElement("a",{href:"#eureka__upload-form",onClick:function(a){a.preventDefault();try{document.getElementById("eureka__upload-form").click()}catch(a){document.querySelector(".eureka__drop-area-zone").click()}}},l.default.createElement(z.FormattedMessage,{id:"upload.someFiles",defaultMessage:"upload some files"}),l.default.createElement("span",{className:"visually-hidden"}," ",l.default.createElement(z.FormattedMessage,{id:"grammar.to",defaultMessage:"to"})," ",a.content.cd)),"?")))}Object.defineProperty(b,"__esModule",{value:!0});var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=c(1),l=d(k),m=c(56),n=d(m),o=c(57),p=(d(o),c(9)),q=d(p),r=c(13),s=d(r),t=c(52),u=d(t),v=c(59),w=d(v),x=c(12),y=d(x),z=c(22),A=c(48),B=(d(A),function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.handleResize=c.handleResizeEvent.bind(c),c}return g(b,a),j(b,[{key:"componentWillMount",value:function(){try{window.addEventListener("resize",this.handleResize,!1)}catch(a){}}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.handleResize,!1)}catch(a){}}},{key:"componentDidMount",value:function(){console.log("EurekaTableTbody componentDidMount"),q.default.dispatch(s.default.updateView({isTableScrolling:this.isScrollable(this.tbody)}))}},{key:"isScrollable",value:function(a){var b=a.scrollTop;a.scrollTop+=1;var c=a.scrollTop;a.scrollTop-=1;var d=a.scrollTop;a.scrollTop=b;var e=a.scrollLeft;a.scrollTop+=1;var f=a.scrollLeft;a.scrollTop-=1;var g=a.scrollLeft;return a.scrollLeft=e,!(b===c&&c===d&&e===f&&f===g)}},{key:"handleResizeEvent",value:function(a){var b=this.isScrollable(this.tbody);b!==q.default.getState().view.isTableScrolling&&q.default.dispatch(s.default.updateView({isTableScrolling:b}))}},{key:"handleRenameStart",value:function(a){console.log("handleRenameStart",a)}},{key:"handleScroll",value:function(a){var b=this.isScrollable(this.tbody);b!==q.default.getState().view.isTableScrolling&&q.default.dispatch(s.default.updateView({isTableScrolling:b}))}},{key:"render",value:function(){var a=this,b=this.props,c=b.content.contents;b.view.filter&&function(){var a=b.view.filter.toLowerCase();c=c.filter(function(b){return b.filename.toLowerCase().includes(a)||b.dimensions.join("x").toLowerCase().includes(a)||new Date(b.editedOn).toLocaleString().toLowerCase().includes(a)||new Date(b.editedOn).toLocaleString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).toLowerCase().includes(a)||(0,u.default)(b.fileSize,{round:0}).toLowerCase().includes(a)||(0,u.default)(b.fileSize,{round:0}).toLowerCase().replace(/ +?/g,"").includes(a)})}(),c=c.sort(function(a,c){if(a[b.sort.by]===c[b.sort.by])return 0;var d=void 0;switch(b.sort.by){case"dimensions":d=a.dimensions[0]*a.dimensions[1]>c.dimensions[0]*c.dimensions[1]?1:-1;break;case"editedOn":d=new Date(a.editedOn).getTime()>new Date(c.editedOn).getTime()?1:-1;break;default:d=a[b.sort.by]>c[b.sort.by]?1:-1}return b.sort.dir===y.default.ASCENDING?d:0-d});var d=c.length?c.map(function(c,d){return[l.default.createElement(n.default,i({},b,{renameStart:a.handleRenameStart,item:c,index:d,key:d,onFocus:function(a){q.default.dispatch(s.default.updateView({focusedMediaItem:c}))},onBlur:function(a){}}))]}):l.default.createElement(h,b);return l.default.createElement("tbody",{"aria-live":"polite",className:(0,w.default)({empty:!c.length}),ref:function(b){a.tbody=b}},d)}}]),b}(k.Component));b.default=B},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0});var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=c(1),h=d(g),i=c(52),j=d(i),k=c(57),l=d(k),m=c(12),n=d(m),o=c(3),p=(d(o),c(59)),q=d(p),r=c(47),s=d(r),t=c(22),u=c(48),v=d(u),w=c(60),x=function(a){var b,c=a.item,d=a.index,g=a.intl.formatMessage,i=a.item.filename+" displays at "+a.item.dimensions.join("x")+", weighs "+(0,j.default)(a.item.fileSize,{round:0})+", and was edited on "+new Date(a.item.editedOn).toLocaleString(a.view.locale,{weekday:"long",year:"numeric",month:"long",day:"2-digit",timeZoneName:"long"}),k=function(b){switch(b.toLowerCase()){case".jpg":case".jpeg":case".gif":case".png":case".png8":case".png24":case".svg":case".bmp":case".tiff":return h.default.createElement("img",{src:a.item.absoluteURL,alt:""});case".mp4":case".mov":return h.default.createElement("video",{width:"320",height:"240",controls:"list"!==a.view.mode},h.default.createElement("source",{src:a.item.absoluteURL,type:"video/mp4"}),h.default.createElement(t.FormattedMessage,{id:"support.noVideo",defaultMessage:"Your browser does not support the video tag."}));case".ogv":return h.default.createElement("video",{width:"320",height:"240",controls:"list"!==a.view.mode},h.default.createElement("source",{src:a.item.absoluteURL,type:"video/ogg"}),h.default.createElement(t.FormattedMessage,{id:"support.noVideo",defaultMessage:"Your browser does not support the video tag."}));case".webm":case".wbm":return h.default.createElement("video",{width:"320",height:"240",controls:"list"!==a.view.mode},h.default.createElement("source",{src:a.item.absoluteURL,type:"video/webm"}),h.default.createElement(t.FormattedMessage,{id:"support.noVideo",defaultMessage:"Your browser does not support the video tag."}));case".pdf":return h.default.createElement("embed",{src:a.item.absoluteURL,width:"320",height:"240"});case".ogg":return h.default.createElement("audio",{controls:!0},h.default.createElement("source",{src:a.item.absoluteURL,type:"audio/ogg"}),h.default.createElement(t.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support the audio tag."}));case".mp3":return h.default.createElement("audio",{controls:!0},h.default.createElement("source",{src:a.item.absoluteURL,type:"audio/mpeg"}),h.default.createElement(t.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support the audio tag."}));case".wav":return h.default.createElement("audio",{controls:!0},h.default.createElement("source",{src:a.item.absoluteURL,type:"audio/wav"}),h.default.createElement(t.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support the audio tag."}));case".flac":return h.default.createElement("audio",{controls:!0},h.default.createElement("source",{src:a.item.absoluteURL,type:"audio/flac"}),h.default.createElement(t.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support the audio tag."}));default:var c=n.default.getIconByExtension(w(a.item.filename).ext);return h.default.createElement("p",null,h.default.createElement(s.default,f({},a,{icon:c}))," ",a.item.absoluteURL)}}(w(a.item.filename).ext),m=(a.config.storagePrefix||"eureka__")+"__media__"+n.default.cssSafe(a.item.filename),o=(a.config.storagePrefix||"eureka__")+"__radio_"+n.default.cssSafe(a.item.filename),p=n.default.serverSideRendering?h.default.createElement("td",null,h.default.createElement("input",{id:o,value:a.item.filename,name:"eureka__chosen_item",type:"radio","aria-labelledby":(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"choose-button",
"aria-describedby":m+" "+n.default.cssSafe(a.item.filename)}),h.default.createElement("span",{className:"visually-hidden"}," ",h.default.createElement(t.FormattedMessage,{id:"select",defaultMessage:"Select"})," ",a.item.filename)):void 0,r=a.config.emphasisFocusedMediaItem&&a.item==a.view.focusedMediaItem?{"eureka__focused-media-item":!0}:{},u=n.default.serverSideRendering?void 0:"0",x=w(a.item.absoluteURL).ext,y=function(a){switch(a.toLowerCase()){case".jpg":case".jpeg":case".gif":case".png":case".png8":case".png24":case".svg":case".bmp":case".tiff":return!0;default:return!1}}(x),z=g(v.default.openFileInNewTab,{filename:a.item.fileName});n.default.serverSideRendering&&y&&(k=h.default.createElement("a",{href:a.item.absoluteURL,target:"_"+o,"aria-label":z,role:"presentation"},k));var A=n.default.wordBreaksEvery(a.item.filename);return n.default.serverSideRendering&&(A=h.default.createElement("label",{htmlFor:o},A)),h.default.createElement("tr",(b={role:"row",className:(0,q.default)(r),id:n.default.cssSafe(a.item.filename),"aria-label":i},e(b,"role","row"),e(b,"tabIndex",u),e(b,"onFocus",a.onFocus.bind(void 0)),e(b,"contextMenu","context_menu__tbody-"+a.index),b),p,h.default.createElement("td",{role:"gridcell",id:m,title:i,className:"eureka__td-media",onDoubleClick:function(b){console.log(b,a.item)}},h.default.createElement("span",{className:"visually-hidden"},h.default.createElement(t.FormattedMessage,{id:"media.contents",defaultMessage:"Media Contents"})),k),h.default.createElement("td",{id:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"filename__"+n.default.cssSafe(a.item.filename),role:"gridcell",className:"eureka__td-filename",contentEditable:!1,onBlur:function(b){try{if(!b.target.innerHTML.trim())throw b.target.innerHTML=a.item.filename,new Error("file name cannot be empty");console.log(b.target.innerHTML,b.target.innerHTML.trim()),a.onRenameItemModalSubmit(b.target.innerHTML.trim(),a.item)}catch(a){console.log(a)}},onKeyUp:function(a){console.log("onKeyUp",a)},onKeyDown:function(a){console.log("onKeyDown",a,a.keyCode),13===a.keyCode&&(a.preventDefault(),a.target.blur())},onPaste:function(a){console.log("onPaste",a)},onCopy:function(a){console.log("onCopy",a)},onCut:function(a){console.log("onCut",a)}},A),h.default.createElement(l.default,f({className:"eureka__context-row"},a,{item:c,hidden:function(b){try{return a.view.focusedMediaItem.path!==b.path}catch(a){return!0}}(c),key:"cm__"+d})),h.default.createElement("td",{role:"gridcell"},a.item.dimensions[0]+"x"+a.item.dimensions[1]),h.default.createElement("td",{role:"gridcell"},(0,j.default)(a.item.fileSize)),h.default.createElement("td",{role:"gridcell",title:new Date(a.item.editedOn).toLocaleString(a.view.locale,{weekday:"long",year:"numeric",month:"long",day:"2-digit",timeZoneName:"long"})},new Date(a.item.editedOn).toLocaleString(a.view.locale,{year:"2-digit",month:"2-digit",day:"2-digit"})))};b.default=x},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(9),h=(d(g),c(13)),i=(d(h),c(58)),j=d(i),k=function(a){a.item;return f.default.createElement("td",{className:a.className,hidden:void 0===a.hidden||a.hidden},f.default.createElement(j.default,a))};b.default=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(9),h=d(g),i=c(13),j=d(i),k=c(12),l=(c(22),c(48)),m=d(l),n=function(a){var b=a.item,c=a.decoratedActions?Object.assign({},j.default,a.decoratedActions):j.default,d=a.intl.formatMessage,e=d(m.default.rename),g=d(m.default.renameItem,{filename:" "+b.filename}),i=d(m.default.performContextualActions,{filename:b.filename}),l=d(m.default.expand),n=d(m.default.chooseItem,{filename:b.filename}),o=d(m.default.choose),p=d(m.default.delete),q=d(m.default.deleteItem,{filename:b.filename}),r=d(m.default.expandItem,{filename:b.filename}),s=a.config.allowRename?f.default.createElement("button",{id:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"rename__"+(0,k.cssSafe)(b.filename),role:"option",title:g,onClick:a.onRenameItem?a.onRenameItem.bind(null,b):void 0},e,f.default.createElement("span",{className:"visually-hidden"}," ",b.filename)):void 0,t=a.config.allowDelete?f.default.createElement("button",{id:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"delete__"+(0,k.cssSafe)(b.filename),role:"option",onClick:function(d){h.default.dispatch(c.deleteMediaItem(a.source.currentSource,b.path))},title:q,className:"dangerous"},p,f.default.createElement("span",{className:"visually-hidden"}," ",b.filename)):void 0;return f.default.createElement("div",{className:"eureka__button-bar eureka__context-buttons",role:"listbox","aria-label":i,tabIndex:"0","aria-activedescendant":"expand__"+(0,k.cssSafe)(b.filename)},f.default.createElement("a",{role:"option",id:"expand__"+(0,k.cssSafe)(b.filename),href:b.absoluteURL,target:"_"+encodeURI(b.absoluteURL),className:"button",title:r},l,f.default.createElement("span",{className:"visually-hidden"}," ",b.filename)),f.default.createElement("button",{role:"option",id:"choose__"+(0,k.cssSafe)(b.filename),title:n,onClick:function(a){document.dispatchEvent(new CustomEvent("EurekaFoundIt",{detail:b}))}},o,f.default.createElement("span",{className:"visually-hidden"}," ",b.filename)),s,t)};b.default=n},function(a,b,c){var d,e;!function(){"use strict";function c(){for(var a=[],b=0;b<arguments.length;b++){var d=arguments[b];if(d){var e=typeof d;if("string"===e||"number"===e)a.push(d);else if(Array.isArray(d))a.push(c.apply(null,d));else if("object"===e)for(var g in d)f.call(d,g)&&d[g]&&a.push(g)}}return a.join(" ")}var f={}.hasOwnProperty;void 0!==a&&a.exports?a.exports=c:(d=[],void 0!==(e=function(){return c}.apply(b,d))&&(a.exports=e))}()},function(a,b,c){(function(b){"use strict";function c(a){var b=f.exec(a),c=(b[1]||"")+(b[2]||""),d=b[3]||"",e=g.exec(d);return[c,e[1],e[2],e[3]]}function d(a){return i.exec(a).slice(1)}var e="win32"===b.platform,f=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,g=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,h={};h.parse=function(a){if("string"!=typeof a)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var b=c(a);if(!b||4!==b.length)throw new TypeError("Invalid path '"+a+"'");return{root:b[0],dir:b[0]+b[1].slice(0,-1),base:b[2],ext:b[3],name:b[2].slice(0,b[2].length-b[3].length)}};var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,j={};j.parse=function(a){if("string"!=typeof a)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var b=d(a);if(!b||4!==b.length)throw new TypeError("Invalid path '"+a+"'");return b[1]=b[1]||"",b[2]=b[2]||"",b[3]=b[3]||"",{root:b[0],dir:b[0]+b[1].slice(0,-1),base:b[2],ext:b[3],name:b[2].slice(0,b[2].length-b[3].length)}},a.exports=e?h.parse:j.parse,a.exports.posix=j.parse,a.exports.win32=h.parse}).call(b,c(4))},function(a,b,c){!function(b,d){a.exports=d(c(1))}(0,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=c(1),l=d(k),m=c(2),n=d(m),o=c(3),p=d(o),q="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),r=function(a){function b(a,c){f(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onClick=d.onClick.bind(d),d.onDragStart=d.onDragStart.bind(d),d.onDragEnter=d.onDragEnter.bind(d),d.onDragLeave=d.onDragLeave.bind(d),d.onDragOver=d.onDragOver.bind(d),d.onDrop=d.onDrop.bind(d),d.onFileDialogCancel=d.onFileDialogCancel.bind(d),d.fileAccepted=d.fileAccepted.bind(d),d.isFileDialogActive=!1,d.state={isDragActive:!1},d}return h(b,a),j(b,null,[{key:"renderChildren",value:function(a,b,c){return"function"==typeof a?a({isDragActive:b,isDragReject:c}):a}}]),j(b,[{key:"componentDidMount",value:function(){this.enterCounter=0,document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){document.body.onfocus=null}},{key:"onDragStart",value:function(a){this.props.onDragStart&&this.props.onDragStart.call(this,a)}},{key:"onDragEnter",value:function(a){a.preventDefault(),++this.enterCounter;var b=this.allFilesAccepted((0,p.default)(a,this.props.multiple));this.setState({isDragActive:b,isDragReject:!b}),this.props.onDragEnter&&this.props.onDragEnter.call(this,a)}},{key:"onDragOver",value:function(a){a.preventDefault(),a.stopPropagation();try{a.dataTransfer.dropEffect="copy"}catch(a){}return this.props.onDragOver&&this.props.onDragOver.call(this,a),!1}},{key:"onDragLeave",value:function(a){a.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,a))}},{key:"onDrop",value:function(a){var b=this,c=this.props,d=c.onDrop,e=c.onDropAccepted,f=c.onDropRejected,g=c.multiple,h=c.disablePreview,i=(0,p.default)(a,g),j=[],k=[];a.preventDefault(),this.enterCounter=0,this.isFileDialogActive=!1,i.forEach(function(a){h||(a.preview=window.URL.createObjectURL(a)),b.fileAccepted(a)&&b.fileMatchSize(a)?j.push(a):k.push(a)}),d&&d.call(this,j,k,a),k.length>0&&f&&f.call(this,k,a),j.length>0&&e&&e.call(this,j,a),this.setState({isDragActive:!1,isDragReject:!1})}},{key:"onClick",value:function(a){var b=this.props,c=b.onClick;b.disableClick||(a.stopPropagation(),this.open(),c&&c.call(this,a))}},{key:"onFileDialogCancel",value:function(){var a=this.props.onFileDialogCancel,b=this.fileInputEl,c=this.isFileDialogActive;a&&c&&setTimeout(function(){b.files.length||(c=!1,a())},300)}},{key:"fileAccepted",value:function(a){return(0,n.default)(a,this.props.accept)}},{key:"fileMatchSize",value:function(a){return a.size<=this.props.maxSize&&a.size>=this.props.minSize}},{key:"allFilesAccepted",value:function(a){return a.every(this.fileAccepted)}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var a=this,c=this.props,d=c.accept,f=c.activeClassName,g=c.inputProps,h=c.multiple,j=c.name,k=c.rejectClassName,m=c.children,n=e(c,["accept","activeClassName","inputProps","multiple","name","rejectClassName","children"]),o=n.activeStyle,p=n.className,r=n.rejectStyle,s=n.style,t=e(n,["activeStyle","className","rejectStyle","style"]),u=this.state,v=u.isDragActive,w=u.isDragReject;p=p||"",v&&f&&(p+=" "+f),w&&k&&(p+=" "+k),p||s||o||r||(s={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},o={borderStyle:"solid",backgroundColor:"#eee"},r={borderStyle:"solid",backgroundColor:"#ffdddd"});var x=void 0;x=o&&v?i({},s,o):r&&w?i({},s,r):i({},s);var y={accept:d,type:"file",style:{display:"none"},multiple:q&&h,ref:function(b){return a.fileInputEl=b},onChange:this.onDrop};j&&j.length&&(y.name=j);var z=["acceptedFiles","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"],A=i({},t);return z.forEach(function(a){return delete A[a]}),l.default.createElement("div",i({className:p,style:x},A,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),b.renderChildren(m,v,w),l.default.createElement("input",i({},g,y)))}}]),b}(l.default.Component);r.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},r.propTypes={onClick:l.default.PropTypes.func,onDrop:l.default.PropTypes.func,onDropAccepted:l.default.PropTypes.func,onDropRejected:l.default.PropTypes.func,onDragStart:l.default.PropTypes.func,onDragEnter:l.default.PropTypes.func,onDragOver:l.default.PropTypes.func,onDragLeave:l.default.PropTypes.func,children:l.default.PropTypes.oneOfType([l.default.PropTypes.node,l.default.PropTypes.func]),style:l.default.PropTypes.object,activeStyle:l.default.PropTypes.object,rejectStyle:l.default.PropTypes.object,className:l.default.PropTypes.string,activeClassName:l.default.PropTypes.string,rejectClassName:l.default.PropTypes.string,disablePreview:l.default.PropTypes.bool,disableClick:l.default.PropTypes.bool,onFileDialogCancel:l.default.PropTypes.func,inputProps:l.default.PropTypes.object,multiple:l.default.PropTypes.bool,accept:l.default.PropTypes.string,name:l.default.PropTypes.string,maxSize:l.default.PropTypes.number,minSize:l.default.PropTypes.number},b.default=r,a.exports=b.default},function(b,c){b.exports=a},function(a,b){a.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";b.__esModule=!0,c(8),c(9),b.default=function(a,b){if(a&&b){var c=function(){var c=Array.isArray(b)?b:b.split(","),d=a.name||"",e=a.type||"",f=e.replace(/\/.*$/,"");return{v:c.some(function(a){var b=a.trim();return"."===b.charAt(0)?d.toLowerCase().endsWith(b.toLowerCase()):/\/\*$/.test(b)?f===b.replace(/\/.*$/,""):e===b})}}();if("object"==typeof c)return c.v}return!0},a.exports=b.default},function(a,b){var c=a.exports={version:"1.2.2"};"number"==typeof __e&&(__e=c)},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b,c){var d=c(2),e=c(1),f=c(4),g=c(19),h="prototype",i=function(a,b){return function(){return a.apply(b,arguments)}},j=function(a,b,c){var k,l,m,n,o=a&j.G,p=a&j.P,q=o?d:a&j.S?d[b]||(d[b]={}):(d[b]||{})[h],r=o?e:e[b]||(e[b]={});o&&(c=b);for(k in c)l=!(a&j.F)&&q&&k in q,m=(l?q:c)[k],n=a&j.B&&l?i(m,d):p&&"function"==typeof m?i(Function.call,m):m,q&&!l&&g(q,k,m),r[k]!=m&&f(r,k,n),p&&((r[h]||(r[h]={}))[k]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,a.exports=j},function(a,b,c){var d=c(5),e=c(18);a.exports=c(22)?function(a,b,c){return d.setDesc(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b){var c=Object;a.exports={create:c.create,getProto:c.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:c.getOwnPropertyDescriptor,setDesc:c.defineProperty,setDescs:c.defineProperties,getKeys:c.keys,getNames:c.getOwnPropertyNames,getSymbols:c.getOwnPropertySymbols,each:[].forEach}},function(a,b){var c=0,d=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},function(a,b,c){var d=c(20)("wks"),e=c(2).Symbol;a.exports=function(a){return d[a]||(d[a]=e&&e[a]||(e||c(6))("Symbol."+a))}},function(a,b,c){c(26),a.exports=c(1).Array.some},function(a,b,c){c(25),a.exports=c(1).String.endsWith},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b){var c={}.toString;a.exports=function(a){return c.call(a).slice(8,-1)}},function(a,b,c){var d=c(10);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b,c){a.exports=function(a){var b=/./;try{"/./"[a](b)}catch(d){try{return b[c(7)("match")]=!1,!"/./"[a](b)}catch(a){}}return!0}},function(a,b){a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){var d=c(16),e=c(11),f=c(7)("match");a.exports=function(a){var b;return d(a)&&(void 0!==(b=a[f])?!!b:"RegExp"==e(a))}},function(a,b){a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){var d=c(2),e=c(4),f=c(6)("src"),g="toString",h=Function[g],i=(""+h).split(g);c(1).inspectSource=function(a){return h.call(a)},(a.exports=function(a,b,c,g){"function"==typeof c&&(e(c,f,a[b]?""+a[b]:i.join(String(b))),"name"in c||(c.name=b)),a===d?a[b]=c:(g||delete a[b],e(a,b,c))})(Function.prototype,g,function(){return"function"==typeof this&&this[f]||h.call(this)})},function(a,b,c){var d=c(2),e="__core-js_shared__",f=d[e]||(d[e]={});a.exports=function(a){return f[a]||(f[a]={})}},function(a,b,c){var d=c(17),e=c(13);a.exports=function(a,b,c){if(d(b))throw TypeError("String#"+c+" doesn't accept regex!");return String(e(a))}},function(a,b,c){a.exports=!c(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b){var c=Math.ceil,d=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},function(a,b,c){var d=c(23),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b,c){"use strict";var d=c(3),e=c(24),f=c(21),g="endsWith",h=""[g];d(d.P+d.F*c(14)(g),"String",{endsWith:function(a){var b=f(this,a,g),c=arguments,d=c.length>1?c[1]:void 0,i=e(b.length),j=void 0===d?i:Math.min(e(d),i),k=String(a);return h?h.call(b,k,j):b.slice(j-k.length,j)===k}})},function(a,b,c){var d=c(5),e=c(3),f=c(1).Array||Array,g={},h=function(a,b){d.each.call(a.split(","),function(a){void 0==b&&a in f?g[a]=f[a]:a in[]&&(g[a]=c(12)(Function.call,[][a],b))})};h("pop,reverse,shift,keys,values,entries",1),h("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),h("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),e(e.S,"Array",g)}])},function(a,b){"use strict";function c(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=[];if(a.dataTransfer){var d=a.dataTransfer;d.files&&d.files.length?c=d.files:d.items&&d.items.length&&(c=d.items)}else a.target&&a.target.files&&(c=a.target.files);return c.length>0&&(c=b?c:[c[0]]),Array.prototype.slice.call(c)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c,a.exports=b.default}])})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(9),m=d(l),n=c(13),o=d(n),p=c(47),q=d(p),r=c(48),s=d(r),t=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={editable:!1},c.decoratedActions=a.decoratedActions?Object.assign({},o.default,a.decoratedActions):o.default,c}return g(b,a),i(b,[{key:"render",value:function(){var a=this,b=this.state,c=this.props,d=c.item,e=this.decoratedActions;return k.default.createElement("span",{ref:function(b){return a.span=b},contentEditable:b.editable,onClick:function(a){a.preventDefault(),m.default.dispatch(e.updateContent({cd:d.cd})),m.default.dispatch(e.fetchDirectoryContents(c.source.currentSource,{path:d.cd}))},onDoubleClick:function(c){a.setState({editable:!b.editable}),b.editable?a.span.blur():a.span.focus()},onKeyDown:function(a){console.log("onKeyDown",a,a.keyCode,13===a.keyCode),13===a.keyCode&&(a.preventDefault(),a.stopPropagation(),a.target.blur())}},d.name)}}]),b}(j.Component),u=function(a){function b(d){function o(b){try{return"./"==b.cd||0===a.content.cd.indexOf(b.cd)||void 0}catch(a){return}}return d.map(function(d,p){return d.children,k.default.createElement("details",{onToggle:function(a){console.log("TOGGLE!!!",d),console.log(a.target.hasAttribute("open"))},key:p,open:o(d)},k.default.createElement("summary",{contextMenu:"context_menu__"+d.cd.replace(/^[^a-z]+|[^\w:.-]+/gi,""),className:a.content.cd===d.cd?"active":void 0},k.default.createElement(q.default,h({},a,{icon:"folder"})),k.default.createElement(q.default,h({},a,{icon:"folder-open"})),k.default.createElement(t,h({},a,{item:d,index:p,key:p})),k.default.createElement("menu",{hidden:"true",type:"context",id:"context_menu__"+d.cd.replace(/^[^a-z]+|[^\w:.-]+/gi,"")},k.default.createElement("menuitem",{label:"Create Directory Here",onClick:function(a){}}),k.default.createElement("menuitem",{label:e}),k.default.createElement("menuitem",{label:f}),k.default.createElement("menuitem",{label:g}),k.default.createElement("hr",null),k.default.createElement("menuitem",{label:i}),k.default.createElement("menuitem",{label:j}),k.default.createElement("menuitem",{label:l}),k.default.createElement("menuitem",{label:n,onClick:function(b){m.default.dispatch(c.deleteMediaItem(a.source.currentSource,d.cd))}}))),k.default.createElement("div",null,d.children?b(d.children):void 0))})}var c=a.decoratedActions?Object.assign({},o.default,a.decoratedActions):o.default,d=a.intl.formatMessage,e=d(s.default.chmodDirectory),f=d(s.default.rename),g=d(s.default.refreshDirectory),i=d(s.default.uploadFiles),j=d(s.default.createFile),l=d(s.default.quickCreateFile),n=d(s.default.deleteDirectory),p=b([{cd:"./",name:"./",children:a.tree}]);return k.default.createElement("nav",{className:"eureka__tree"},p)};b.default=u},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(1),j=d(i),k=c(9),l=d(k),m=c(13),n=d(m),o=c(12),p=d(o),q=c(22),r=c(48),s=(d(r),c(59)),t=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.decoratedActions=a.decoratedActions?Object.assign({},n.default,a.decoratedActions):n.default,c}return g(b,a),h(b,[{key:"handleSubmit",value:function(a){a.preventDefault();var b=this.props,c=this.decoratedActions,d=new FormData(a.target),e=!0,f=!1,g=void 0;try{for(var h,i=d.entries()[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;console.log(j[0],j[1])}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}l.default.dispatch(c.uploadFiles(b.source.currentSource,b.content.cd,d))}},{key:"render",value:function(){var a=this,b=this.props,c=j.default.createElement(q.FormattedMessage,{id:"upload.files",defaultMessage:"Upload Files"}),d=p.default.serverSideRendering?j.default.createElement("button",{type:"submit",formmethod:"post"},c):void 0,e=p.default.serverSideRendering?j.default.createElement("div",null,j.default.createElement("label",{htmlFor:"eureka__upload-form"},c,j.default.createElement("span",{className:s({"visually-hidden":!p.default.serverSideRendering})}," to ",b.content.cd),": "),j.default.createElement("input",{id:"eureka__upload-form",multiple:"multiple",name:"eureka__uploadFiles",type:"file"}),d):j.default.createElement("form",{onSubmit:this.handleSubmit.bind(this),encType:"multipart/form-data",ref:function(b){a.form=b}},j.default.createElement("label",{htmlFor:"eureka__upload-form"},c,j.default.createElement("span",{className:"visually-hidden"}," ",j.default.createElement(q.FormattedMessage,{id:"grammar.to",defaultMessage:"to"})," ",b.content.cd),": "),j.default.createElement("input",{id:"eureka__upload-form",multiple:"multiple",name:"eureka__uploadFiles",type:"file",onChange:function(b){a.form.dispatchEvent(new Event("submit"))}}));return j.default.createElement("div",{className:"eureka__upload-form"},e)}}]),b}(i.Component);b.default=t},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=c(1),g=d(f),h=c(47),i=d(h),j=c(58),k=d(j),l=c(3),m=d(l),n=c(12),o=d(n),p=c(60),q=function(a){var b=a.view.focusedMediaItem?g.default.createElement(k.default,e({},a,{item:a.view.focusedMediaItem})):void 0,c=o.default.getIconByExtension(p(a.view.focusedMediaItem.filename).ext);return g.default.createElement("div",{className:"eureka__pathbar"},g.default.createElement("div",{className:"eureka__hide-for-mobile-up","aria-hidden":"true"},g.default.createElement("details",null,g.default.createElement("summary",null,g.default.createElement(i.default,e({},a,{icon:c}))," ",""+a.view.focusedMediaItem.directory+a.view.focusedMediaItem.filename),g.default.createElement("div",null,g.default.createElement("div",null,g.default.createElement("img",{src:a.view.focusedMediaItem.absoluteURL,alt:""})),b))),g.default.createElement("div",{className:"eureka__show-for-mobile-up"},g.default.createElement("a",{role:"presentation",href:a.view.focusedMediaItem.absoluteURL,target:"_"+encodeURI(a.view.focusedMediaItem.absoluteURL)},g.default.createElement(i.default,e({},a,{icon:c}))," ",m.default.join(a.view.focusedMediaItem.directory,a.view.focusedMediaItem.filename))))};b.default=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(61),m=d(l),n=c(9),o=d(n),p=c(13),q=d(p),r=c(47),s=d(r),t=(c(22),c(48)),u=d(t),v=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.decoratedActions=a.decoratedActions?Object.assign({},q.default,a.decoratedActions):q.default,c}return g(b,a),i(b,[{key:"onDrop",value:function(a){var b=this.props;console.log("Received files: ",a);var c=this.decoratedActions,d=new FormData;a.forEach(function(a){d.append("eureka__uploadFiles",a,a.name)}),o.default.dispatch(c.uploadFiles(b.source.currentSource,b.content.cd,d))}},{key:"render",value:function(){var a=this.props,b=a.intl.formatMessage,c=b(u.default.dragFilesToBeUploadedTo,{cd:a.content.cd});return k.default.createElement("div",{className:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"drop-area",title:c},k.default.createElement(m.default,{onDrop:this.onDrop.bind(this),className:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"drop-area-zone",activeClassName:(void 0!==a.config.storagePrefix?a.config.storagePrefix:"eureka__")+"drop-area-zone-active",style:{}},k.default.createElement(s.default,h({},a,{icon:"upload"}))))}}]),b}(j.Component);b.default=v},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f=c(22),g=function(a){return e.default.createElement("div",{className:"eureka__modal"},e.default.createElement("div",{className:"eureka__modal-panel"},e.default.createElement("h2",null,a.title),e.default.cloneElement(e.default.Children.only(a.children),a)),e.default.createElement("div",{role:"button",tabIndex:"0","aria-pressed":"false",className:"eureka__modal-scrim",onClick:a.onCancel},e.default.createElement("span",{className:"visually-hidden test"},e.default.createElement(f.FormattedMessage,{id:"modal.closeWindow",defaultMessage:"Close {title} Modal Window",values:{title:a.title}}))))};b.default=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(3),m=d(l),n=c(59),o=d(n),p=c(47),q=d(p),r=c(22),s=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={
createDirectory:""},c}return g(b,a),i(b,[{key:"componentDidMount",value:function(){this.refs.input.focus()}},{key:"render",value:function(){var a=this,b=this.state,c=this.props,d=!b.createDirectory,e=!1,f="Create a new directory in "+m.default.join("/",c.content.cd),g=void 0;return d||(d=function(){for(var a=0;a<c.fetched.lastDirectoriesFetched.length;a++){var i=c.fetched.lastDirectoriesFetched[a];if(console.log(i,b.createDirectory,i===b.createDirectory),i===b.createDirectory)return f="&ensp;Directory "+m.default.join("/",c.content.cd,i)+" already exists",g=k.default.createElement(q.default,h({},c,{icon:"exclamation-triangle"})),e=!0,!0}return d}()),k.default.createElement("form",{onSubmit:function(b){b.preventDefault(),c.onSubmit(a.state.createDirectory)}},k.default.createElement("label",{htmlFor:"eureka__modal-panel__directory","aria-live":"polite",className:(0,o.default)({dangerous:e})},g,f),k.default.createElement("input",{ref:"input",type:"text",id:"eureka__modal-panel__directory",name:"eureka__modal-panel__directory",placeholder:"untitled folder",autoComplete:"off",value:b.createDirectory,onChange:function(b){a.setState({createDirectory:b.target.value})}}),k.default.createElement("div",{className:"flex-bar"},k.default.createElement("button",{type:"reset",onBlur:function(c){b.createDirectory||a.refs.input.focus()},onClick:c.onCancel},k.default.createElement(r.FormattedMessage,{id:"cancel",defaultMessage:"Cancel"})," ",k.default.createElement("span",{className:"visually-hidden"}," ",k.default.createElement(r.FormattedMessage,{id:"directory.cancelCreating",defaultMessage:"creating directory {cd}",value:{cd:b.createDirectory},values:{state:b}}))),k.default.createElement("button",{type:"submit",onBlur:function(b){a.refs.input.focus()},disabled:d},k.default.createElement(r.FormattedMessage,{id:"create",defaultMessage:"Create"})," ",k.default.createElement("span",{className:"visually-hidden"}," ",k.default.createElement(r.FormattedMessage,{id:"directory",defaultMessage:"directory"})," ",b.createDirectory))))}}]),b}(j.Component);b.default=s},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(3),m=d(l),n=c(59),o=d(n),p=c(47),q=d(p),r=c(22),s=c(48),t=d(s),u=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={newName:void 0},c}return g(b,a),i(b,[{key:"componentDidMount",value:function(){this.refs.input.focus()}},{key:"render",value:function(){var a=this,b=this.state,c=this.props,d=c.intl.formatMessage,e=c.item.filename,f=!1,g=!1,i="Rename item",j=void 0,l=d(t.default.cannotRename,{filename:e});return b.newName===c.item.filename&&(f=!0,g=!0,i="&ensp;"+l,j=k.default.createElement(q.default,h({},c,{icon:"exclamation-triangle"}))),k.default.createElement("form",{onSubmit:function(a){a.preventDefault(),c.onSubmit(b.newName,c.item)}},k.default.createElement("label",{htmlFor:"eureka__modal-panel__directory","aria-live":"polite",className:(0,o.default)({dangerous:g})},j,i),k.default.createElement("input",{ref:"input",type:"text",id:"eureka__modal-panel__directory",name:"eureka__modal-panel__directory",placeholder:"foo"+m.default.extname(c.item.filename),autoComplete:"off",value:b.newName,onChange:function(b){a.setState({newName:b.target.value})}}),k.default.createElement("div",{className:"flex-bar"},k.default.createElement("button",{type:"reset",onBlur:function(c){b.newName||a.refs.input.focus()},onClick:c.onCancel},k.default.createElement(r.FormattedMessage,{id:"cancel",defaultMessage:"Cancel"})," ",k.default.createElement("span",{className:"visually-hidden"}," ",k.default.createElement(r.FormattedMessage,{id:"renamingItem",defaultMessage:"renaming item {filename}",values:{filename:e}}))),k.default.createElement("button",{type:"submit",onBlur:function(b){a.refs.input.focus()},disabled:f},"Rename ",k.default.createElement("span",{className:"visually-hidden"}," item ",c.item.filename," to ",b.newName))))}}]),b}(j.Component);b.default=u},function(a,b,c){!function(b,c){a.exports=c()}(0,function(){"use strict";return[{locale:"en",pluralRuleFunction:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},{locale:"en-001",parentLocale:"en"},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001"},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001"},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(a,b){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001"},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(a,b){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]})},function(a,b,c){"use strict";var d=c(71),e=function(a){return a&&a.__esModule?a:{default:a}}(d);a.exports={en:e.default}},function(a,b){a.exports={"close.mediaBrowser":"Close Media Browser",choose:"Choose",item:"item",mediaItem:"media item",pluralItem:"a media item","rename.item":"Rename Item{item}",media:"Media",name:"Name",dimensions:"Dimensions",fileSize:"File Size",editedOn:"Edited On","search.tryAnother":"Try another search","search.noResults":'Uh oh. No results found for "{filter}"',"grammar.or":"or","search.clearFilter":"clear the search filter","directory.appearsToBeEmpty":'Directory "{cd}" appears to be empty.',perhapsYouWouldLikeTo:"Perhaps you'd like to","upload.someFiles":"upload some files","grammar.to":"to","directory.set":"Set Directory","directory.browse":"Browse Directory","support.noVideo":"Your browser does not support the video tag.","support.noAudio":"Your browser does not support the audio tag.",select:"Select","media.contents":"Media Contents","grammar.a":"a","media.source":"Media Source","modal.closeWindow":"Close {title} Modal Window",cancel:"Cancel","directory.cancelCreating":"creating directory {cd}",create:"Create",directory:"directory",renamingItem:"renaming item {filename}",filter:"Filter","upload.files":"Upload Files","layout.table":"Table Layout","layout.thumb":"Thumbnail Layout","layout.grid":"Grid Layout","layout.list":"List Layout","media.browse":"Browse","directory.create":"Create a Directory","directory.createNewIn":"Create a new Directory in {cd}",mediaSourceTree:"Media Source Panel",close:"Close",open:"Open",rename:"Rename",delete:"Delete",in:"in","file.create":"Create File","contents.ofby":"contents of {cd} by filename, filesize, dimensions or even modification date","contents.filterBy":"Filter contents of {cd} by filename, filesize, dimensions or even modification date","file.quickCreate":"Quick Create Files","rename.cannot":"Cannot rename {filename} to the same name",expand:"Expand","choose.item":"Choose {filename}","directory.delete":"Delete Directory","delete.item":"Delete {filename}","expand.item":"Expand {filename}","directory.refresh":"Refresh Directory","upload.filesTo":"Upload File to {cd}","context.performActions":"Perform Actions such as Expand or Choose on {filename}","directory.chmod":"chmod Directory","layout.tabular":"Tabular Layout displays image thumbnails along with Name, Description, File Size and Edited On columns","layout.thumbnail":"Thumbnail layout displays a grid of medium sized thumbnails","file.openInNewTab":"Open {filename} in a new tab","media.sourceTree":"Media Source Panel","upload.dragFilestoUpload":"Drag files here to be uploaded to {cd}"}}])});